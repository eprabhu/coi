<div id="Award130" class="row mt-3 mb-3">
    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
        <div class="card">
            <div class="card-content">
                <div class="card-header px-4">
                    <h4 class="card-title align-items-center d-flex">
                        <span class="mr-auto">Dates & Amounts - Overview</span>
                        <span>
                            <span class="external-link mr-3" title="View Transaction">
                                <a [routerLink]="['/fibi/award/dates']" queryParamsHandling='merge'>Transaction
                                    Details<i class="fa fa-external-link-square ml-1" aria-hidden="true"></i></a>
                            </span>
                            <span class="external-link mr-5" title="View Cost Share">
                                <a [routerLink]="['/fibi/award/cost-share']" queryParamsHandling='merge'>Cost
                                    Share Details<i class="fa fa-external-link-square ml-1" aria-hidden="true"></i></a>
                            </span>
                            <button id="project-expand-btn" class="updown-arrow" (click)="isShowCollapse = !isShowCollapse">
                                <i [ngClass]="!isShowCollapse?'fa fa-angle-double-up':'fa fa-angle-double-down '" aria-hidden="true"
                                    class="fa-large"></i>
                            </button>
                        </span>
                    </h4>
                </div>
                <div *ngIf="isShowCollapse" class="card-body ">
                    <div class="table-responsive custom-table-responsive">
                        <table class="table tableSkin grid2">
                            <caption class="sr-only">Transaction Overview Details</caption>
                            <thead class="thead-light">
                                <th class="text-right" scope="col"></th>
                                <th class="text-right" scope="col">Obligated Start Date</th>
                                <th class="text-right" scope="col">Obligated End Date</th>
                                <th class="text-right" scope="col">Obligated Distributable</th>
                                <th class="text-right" scope="col">Obligated Total</th>
                                <th class="text-right" scope="col">Anticipated Distributable</th>
                                <th class="text-right" scope="col">Anticipated Total</th>
                                <th class="text-right" scope="col">Total Project Cost</th>
                                <th class="text-right" scope="col">In Foreign Currency</th>
                            </thead>
                            <tbody>
                                <tr class="active-data" *ngIf="awardCostDetails?.activeAmountInfo">
                                    <td class="text-success fw-700">ACTIVE</td>
                                    <td
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails?.activeAmountInfo?.startDate) | customTagRemover: currentMethod'>
                                    </td>
                                    <td
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails?.activeAmountInfo?.endDate) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.activeAmountInfo?.obligatedDistributableTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.activeAmountInfo?.obligatedTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.activeAmountInfo?.anticipatedDistributableTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.activeAmountInfo?.anticipatedTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.activeAmountInfo?.totalCost) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right">
                                        <span [innerHTML]='awardCostDetails?.activeAmountInfo?.currencySymbol ? (awardCostDetails?.activeAmountInfo?.currencySymbol | customTagRemover: currentMethod) :
                                         (_commonService.currencyFormat | customTagRemover: currentMethod)' class="font-weight-bold"></span>
                                        <span [innerHTML]="awardCostDetails?.activeAmountInfo?.totalCostInCurrency
                                        ? (awardCostDetails?.activeAmountInfo?.totalCostInCurrency | customTagRemover: currentMethod) : '0.00'"
                                            class="font-weight-bold"></span>
                                    </td>
                                </tr>
                                <tr class="pending-data" *ngIf="awardCostDetails?.pendingAmountInfo">
                                    <td class="text-warning  fw-700">PENDING</td>
                                    <td
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails?.pendingAmountInfo?.startDate) | customTagRemover: currentMethod | customTagRemover: currentMethod'>
                                    </td>
                                    <td
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails?.pendingAmountInfo?.endDate) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.pendingAmountInfo?.obligatedDistributableTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.pendingAmountInfo.obligatedTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.pendingAmountInfo?.anticipatedDistributableTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.pendingAmountInfo?.anticipatedTotal) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right"
                                        [innerHTML]='currencyFormatter.parseCurrency(awardCostDetails?.pendingAmountInfo?.totalCost) | customTagRemover: currentMethod'>
                                    </td>
                                    <td class="text-right">
                                        <span [innerHTML]='awardCostDetails?.pendingAmountInfo?.currency?.currencySymbol ?
                                        (awardCostDetails?.pendingAmountInfo?.currency?.currencySymbol | customTagRemover: currentMethod) :
                                         (_commonService.currencyFormat | customTagRemover: currentMethod)' class="font-weight-bold"></span>
                                        <span [innerHTML]="awardCostDetails?.pendingAmountInfo?.totalCostInCurrency
                                        ? (awardCostDetails?.pendingAmountInfo?.totalCostInCurrency | customTagRemover: currentMethod) : '0.00'"
                                            class="font-weight-bold"></span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row p-3">
                        <div class=" col-12 gridSkin">
                            <div class="row p-2 ">
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">
                                        <ng-container i18n="@@COMMON_AWARD_EFFECTIVE_DATE">Award Effective Date
                                        </ng-container>
                                    </label>
                                    <span class="font-weight-bold"
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails.projectStartDate ) | customTagRemover: currentMethod'></span>
                                </div>
                                <!-- Final Expiration Date -->
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">
                                        <ng-container i18n="@@COMMON_FINAL_EXPIRATION_DATE">Final Expiration Date
                                        </ng-container>
                                    </label>
                                    <span class="font-weight-bold"
                                        [innerHTML]='dateFormatter.parseDate(awardCostDetails.projectEndDate ) | customTagRemover: currentMethod'></span>
                                </div>
                                <!-- Cost Share (Sponsor) -->
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">Cost Share (Sponsor)</label>
                                    <span class="font-weight-bold"
                                        [innerHTML]='awardCostDetails.sponsorTotal ? (currencyFormatter.parseCurrency(awardCostDetails.sponsorTotal) | customTagRemover: currentMethod) : (currencyFormatter.parseCurrency("0.00") | customTagRemover: currentMethod)'></span>
                                </div>
                                <!-- Cost Share (Institute) -->
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">Cost Share (Institute)</label>
                                    <span class="font-weight-bold"
                                        [innerHTML]='awardCostDetails.instituteTotal ? (currencyFormatter.parseCurrency(awardCostDetails.instituteTotal) | customTagRemover: currentMethod) : (currencyFormatter.parseCurrency("0.00") | customTagRemover: currentMethod)'></span>
                                </div>
                                <!-- Cost Share Distributable -->
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">Cost Share Distributable</label>
                                    <span class="font-weight-bold"
                                        [innerHTML]='awardCostDetails.costShareTotal ? (currencyFormatter.parseCurrency(awardCostDetails.costShareTotal) | customTagRemover: currentMethod) : (currencyFormatter.parseCurrency("0.00") | customTagRemover: currentMethod)'></span>
                                </div>
                                <!-- Total Cost Share -->
                                <div class="col-lg-2 col-md-4 col-sm-6 col-12 card ">
                                    <label class="d-sm-block">Total Cost Share</label>
                                    <span class="font-weight-bold"
                                        [innerHTML]="awardCostDetails.costShareTotal ? (currencyFormatter.parseCurrency(awardCostDetails.costShareTotal) | customTagRemover: currentMethod) : (currencyFormatter.parseCurrency('0.00') | customTagRemover: currentMethod)"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pt-3">
                        <app-comment-box [sectionCode]="130" [awardId]="comparisonDetails.baseAwardId"
                            [awardNumber]="comparisonDetails.awardNumber"
                            [sequenceNumber]="comparisonDetails.sequenceNumber"></app-comment-box>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
