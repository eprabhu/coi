<div>
    <app-coi-section-card uniqueId="faq" customClass="coi-card-section-body-p-0 overflow-hidden">
        <ng-container card-header-icon><mat-icon aria-hidden="true">quiz</mat-icon></ng-container>
        <ng-container card-header-content><span>FAQ</span></ng-container>
        <ng-container card-body>
            <div *ngIf="questionsList?.length; else noData"  class="custom-body-height">
                <div class="accordion accordion-flush overflow-auto scrollbar-sm h-100" id="accordionFlushExample">
                    <div class="accordion accordion-flush" id="accordionFlushExample">
                        <div class="col-12 border-bottom border-light-subtle p-1 accordion-item" *ngFor="let item of questionsList; let i = index">
                            <h2 class="accordion-header" id="faq-heading-{{i}}">
                                <button class="accordion-button questions-mainsection coi-text-dark" type="button" [ngClass]="{'collapsed': isCollapsedMap[item.questionId]}"
                                    [attr.data-bs-target]="'#faq-answer' + item.questionId" aria-expanded="false" 
                                    title="Click here to view answer of {{ item.question }}"
                                    attr.aria-label="Click here to view answer of {{ item.question }}"
                                    [attr.aria-controls]="'faq-answer' + item.questionId" (click)="toggleAnswer(item)">
                                    {{ item.question }}
                                </button>
                            </h2>
                            <div *ngIf="!isCollapsedMap[item.questionId]" [@heightAnimation]  [id]="'faq-answer' + item.questionId" class="accordion-collapse" 
                                [attr.aria-labelledby]="'faq-heading-' + i" data-bs-parent="#accordionFlushExample">
                                <div class="accordion-body coi-text-light">{{ item.answer }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="questionsList?.length" class="d-flex justify-content-center p-2">
                <button class="coi-btn-halo rounded-pill d-inline-flex fs-12 px-3" title="Click here to view more FAQ"
                    attr.aria-label="Click here to view more FAQ" (click)="navigateToFaq()">
                    <span>View More</span>
                </button>
            </div>
            <!-- no info -->
            <ng-template #noData>
                <div class="d-flex align-items-center justify-content-center custom-no-data-height">
                    <app-no-information customClass="mt-0" [isBorderNeeded]="false">
                        <span>FAQs are not available at the moment.</span>
                    </app-no-information>
                </div>
            </ng-template>
        </ng-container>
    </app-coi-section-card>
</div>

