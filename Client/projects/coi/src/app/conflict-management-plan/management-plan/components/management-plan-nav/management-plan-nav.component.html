<nav class="position-relative d-flex align-items-center col-12">
    <ul id="coi-cmp-responsive-nav" role="menu" class="coi-navigation-tabs col">
        <li *ngIf="navItemConfig.isShowDetailsTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.DETAILS]"
                (click)="onTabSwitch('DETAILS')" class="navigation-box border-end" queryParamsHandling='merge'
                id="declaration-form-tab"
                [title]="router.url.includes(cmpRouteUrls.DETAILS) ? 'Details' : ('Click here to view the details')"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.DETAILS) ? 'Details' : ('Click here to view the details')">
                <span class="navigation-box-content" routerLinkActive="active">Details</span>
            </a>
        </li>
        <li *ngIf="navItemConfig.isShowPlanTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.MANAGEMENT_PLAN]"
                (click)="onTabSwitch('MANAGEMENT_PLAN')" class="navigation-box border-end" queryParamsHandling='merge'
                id="declaration-history-tab"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.MANAGEMENT_PLAN) ? 'Management Plan' : 'Click here to view the management plan'"
                [title]="router.url.includes(cmpRouteUrls.MANAGEMENT_PLAN) ? 'Management Plan' : 'Click here to view the management plan'">
                <span class="navigation-box-content" routerLinkActive="active">Management Plan</span>
            </a>
        </li>
        <li *ngIf="navItemConfig.isShowReviewTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.REVIEW]"
                (click)="onTabSwitch('REVIEW')" class="navigation-box border-end" queryParamsHandling='merge'
                id="declaration-history-tab"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.REVIEW) ? 'Reviews' : 'Click here to view the reviews'"
                [title]="router.url.includes(cmpRouteUrls.REVIEW) ? 'Reviews' : 'Click here to view the reviews'">
                <span class="navigation-box-content" routerLinkActive="active">Reviews</span>
            </a>
        </li>
        <li *ngIf="navItemConfig.isShowTaskTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.TASK]" (click)="onTabSwitch('TASK')"
                class="navigation-box border-end" queryParamsHandling='merge' id="declaration-history-tab"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.TASK) ? 'Task' : 'Click here to view the task'"
                [title]="router.url.includes(cmpRouteUrls.TASK) ? 'Task' : 'Click here to view the task'">
                <span class="navigation-box-content" routerLinkActive="active">Task</span>
            </a>
        </li>
        <li *ngIf="navItemConfig.isShowAttachmentTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.ATTACHMENT]"
                (click)="onTabSwitch('ATTACHMENT')" class="navigation-box border-end" queryParamsHandling='merge'
                id="declaration-history-tab"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.ATTACHMENT) ? 'Attachments' : 'Click here to view the attachments'"
                [title]="router.url.includes(cmpRouteUrls.ATTACHMENT) ? 'Attachments' : 'Click here to view the attachments'">
                <span class="navigation-box-content" routerLinkActive="active">Attachments</span>
            </a>
        </li>
        <li *ngIf="navItemConfig.isShowHistoryTab">
            <a [routerLink]="[cmpBaseUrl, managementPlan?.plan?.cmpId, cmpRouteUrls.HISTORY]"
                (click)="onTabSwitch('HISTORY')" class="navigation-box" queryParamsHandling='merge'
                id="declaration-history-tab"
                [attr.aria-label]="router.url.includes(cmpRouteUrls.HISTORY) ? 'History' : 'Click here to view the history'"
                [title]="router.url.includes(cmpRouteUrls.HISTORY) ? 'History' : 'Click here to view the history'">
                <span class="navigation-box-content" routerLinkActive="active">History</span>
            </a>
        </li>
    </ul>
    <div *ngIf="isFormEditable || router.url.includes(cmpRouteUrls.TASK)"
        class="position-absolute d-flex gap-2 end-0 pe-2">
        <!-- last saved toast -->
        <div id="success-toast"
            class="d-inline-flex align-items-center invisible py-1 badge fw-normal fs-13 px-2 rounded-5 text-bg-light-success">
            <span class="me-1">Last saved at {{ autoSaveService.lastSavedTime }}</span>
            <mat-icon aria-hidden="true" class="coi-success-icon">cloud_done</mat-icon>
        </div>
        <!-- saving loader -->
        <div *ngIf="commonService.autoSaveSavingSpinner !== 'HIDE'" id="inprogress-toast"
            class="d-inline-flex align-items-center py-1 fw-normal px-2 rounded-5">
            <span class="me-1 fs-14">Saving...</span>
            <mat-icon aria-hidden="true" class="text-success fw-600 coi-rotating">autorenew</mat-icon>
        </div>
        <button *ngIf="router.url.includes(cmpRouteUrls.MANAGEMENT_PLAN)" id="cmp-new-section-add-btn"
            (click)="triggerAddNewSection()" title="Click here to add new section"
            aria-label="Click here to add new section"
            class="btn btn-primary coi-btn-sm d-inline-flex align-items-center fs-14 gap-2">
            <mat-icon aria-hidden="true" class="flex-shrink-0">add</mat-icon>
            <span class="text-nowrap">Add New Section</span>
        </button>
        <button
            *ngIf="hasCmpMaintainRight && router.url.includes(cmpRouteUrls.TASK) && managementPlan?.cmpTaskList?.length > 0"
            id="cmp-create-task-btn" class="d-inline-flex align-items-center btn btn-primary coi-btn-sm fs-14 gap-2"
            (click)="openCreateTaskModal()" title="Click here to create task" aria-label="Click here to create task">
            <mat-icon aria-hidden="true" class="flex-shrink-0">add</mat-icon>
            Create Task
        </button>
    </div>
    <div class="header-menu-icon px-3 py-2 col">
        <button class="btn-none" aria-label="Click here for menu" title="Click here for menu" id="cmp-header-menu-btn"
            (click)="onClickMenuBar()">
            <mat-icon class="cursor-pointer">menu</mat-icon>
        </button>
    </div>
    <!-- overlay for responsive nav -->
    <div *ngIf="isShowNavBarOverlay" class="nav-bar-custom-overlay" (click)="onClickMenuBar()"></div>
</nav>
