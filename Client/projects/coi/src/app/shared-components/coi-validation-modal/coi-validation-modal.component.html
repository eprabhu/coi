<app-common-modal [modalConfig]="validationModalInfo?.modalConfig" (modalAction)="validationModalActions($event)">
    <!-- header -->
    <ng-container modal-header>
        <span>{{ validationModalInfo.modalHeader }}</span>
        <app-common-help-text [subSectionId]="validationModalInfo.helpSubSectionId"
            [elementId]="validationModalInfo.helpElementId"></app-common-help-text>
    </ng-container>

    <!-- modal body -->
    <ng-container modal-body>
        <div class="d-flex gap-3 flex-column">
            <!-- error list -->
            <ng-container *ngIf="validationModalInfo.errorList?.length">
                <div class="alert alert-danger fs-14 shadow-sm m-0 gap-2" role="alert">
                    <div class="d-flex alert-heading align-items-start" [class.flex-column]="validationModalInfo.errorMsgHeader">
                        <div class="d-flex align-items-center gap-1">
                            <mat-icon class="fs-4 h-auto text-danger flex-shrink-0" aria-hidden="true">error</mat-icon>
                            <strong *ngIf="validationModalInfo.errorMsgHeader" class="me-1">{{ validationModalInfo.errorMsgHeader }}:</strong>
                        </div>
                        <ul class="d-flex flex-column gap-1"
                            [ngClass]="{ 
                                'm-2': validationModalInfo.errorMsgHeader,
                                'ps-4 m-0': !validationModalInfo.errorMsgHeader && validationModalInfo.errorList.length > 1,
                                'ps-1 m-0 list-unstyled': !validationModalInfo.errorMsgHeader && validationModalInfo.errorList.length === 1
                            }">
                            <ng-container *ngFor="let error of validationModalInfo.errorList">
                                <li *ngIf="error?.trim()" [innerHtml]="error"></li>
                            </ng-container>
                        </ul>
                    </div>
                </div>
            </ng-container>

            <!-- warning list -->
            <ng-container *ngIf="validationModalInfo.warningList?.length">
                <div class="alert alert-warning fs-14 shadow-sm m-0 gap-2" role="alert" attr.aria-label="Warning:">
                    <div class="alert-heading d-flex align-items-start flex-column">
                        <div class="d-flex align-items-center gap-1">
                            <mat-icon class="fs-4 h-auto text-warning flex-shrink-0" aria-hidden="true">warning</mat-icon>
                            <strong class="me-1">{{ validationModalInfo.warningMsgHeader }}:</strong>
                        </div>
                        <ul class="d-flex flex-column gap-1 m-2">
                            <ng-container *ngFor="let error of validationModalInfo.warningList">
                                <li *ngIf="error?.trim()" class="pb-1" [innerHtml]="error"></li>
                            </ng-container>
                        </ul>
                    </div>
                </div>
            </ng-container>
        </div>
    </ng-container>

    <ng-container *ngIf="validationModalInfo?.additionalBtns?.length" modal-additional-footer-buttons>
        <ng-container *ngFor="let btnType of validationModalInfo?.additionalBtns">
            <button type="button" class="btn fs-14 {{btnType?.event?.btnClass}}" id="validation-leave-page-modal"
                (click)="validationModalActions(btnType)" title="Click here to {{ btnType?.event?.buttonName }}"
                aria-label="Click here to {{ btnType?.event?.buttonName }}">
                {{ btnType?.event?.buttonName }}
            </button>
        </ng-container>
    </ng-container>
</app-common-modal>
