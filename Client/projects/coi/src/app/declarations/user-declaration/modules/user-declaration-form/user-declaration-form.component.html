<app-common-shared-info-text [elementId]="'coi-decl-form-info-text-' + declarationTypeDetails?.declarationTypeCode" [subSectionId]="282" [customClass]="'mb-2'"></app-common-shared-info-text>
<div class="coi-declaration-form-container px-3 py-2 rounded-2 overflow-hidden" [class.bg-white]="!isFormLoading">
    <app-form-builder-view *ngIf="formList?.length; else showNoFormConfigure"
        [isAutoSaveEnabled]="true"
        [externalEvents]="userDeclarationService.formBuilderEvents"
        (builderStatus)="formBuilderDataChanged($event)"
        [validationConfig]="userDeclarationService.validationConfig">
    </app-form-builder-view>

    <ng-template #showNoFormConfigure>
        <app-no-information *ngIf="!isFormLoading">
            <span>{{ noFormDataMessage }}</span>
        </app-no-information>
    </ng-template>

    <div *ngIf="!isFormLoading && isFormEditMode" class="d-flex justify-content-center py-3 coi-custom-submit-box">
        <button (click)="certifyAndSubmit()" id="user-declaration-form-submit-btn"
            title="Click here to submit {{userDeclaration?.declaration?.declarationType?.declarationType}} {{declarationLocalize.TERM}}"
            attr.aria-label="Click here to submit {{userDeclaration?.declaration?.declarationType?.declarationType}} {{declarationLocalize.TERM}}"
            class="d-flex align-items-center justify-content-center btn btn-primary fs-14 ps-3 pe-4">
            <mat-icon class="flex-shrink-0" aria-hidden="true">done</mat-icon>
            <span class="ms-2">Submit</span>
        </button>
    </div>

    <app-common-modal [modalConfig]="versionModalConfig" (modalAction)="versionModalPostConfirmation($event)">
        <!-- header -->
        <ng-container modal-header>
            <span>{{ versionModalHeader }}</span>
        </ng-container>
        <!-- body -->
        <ng-container modal-body>
            <span class="d-block coi-text-dark">{{ versionModalMsg }}</span>
        </ng-container>
    </app-common-modal>

</div>
