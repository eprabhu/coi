<div class="card coi-card-regular mt-0 overflow-hidden {{customClass}}">
    <div class="d-flex align-content-stretch px-3">
        <div class="row row-gap-2 col py-3">
            <ng-container *ngFor="let fieldOrder of ENTITY_BATCH_CARD_ORDER">
                <!-- Batch ID -->
                <div *ngIf="fieldOrder === 'BATCH_ID'" tabindex="-1" class="{{columnClass}}"
                    [attr.aria-label]="'Batch id is ' + (entityBatchDetails?.batchId ? entityBatchDetails?.batchId : 'empty')">
                    <label for="coi-{{uniqueId}}-batch-id" class="coi-text-dark d-block">Batch ID</label>
                    <div id="coi-{{uniqueId}}-batch-id" class="text-slice">
                        <app-no-data-label [valueToShow]="entityBatchDetails?.batchId">
                            <span [title]="'#' + entityBatchDetails?.batchId"
                                class="coi-text-light">#{{entityBatchDetails?.batchId}}</span>
                        </app-no-data-label>
                    </div>
                </div>
                <!-- Source -->
                <div *ngIf="fieldOrder === 'SOURCE'" tabindex="-1" class="{{columnClass}}"
                    [attr.aria-label]="'Source is ' + (entityBatchDetails?.batchSrcType?.description ? entityBatchDetails?.batchSrcType?.description : 'empty')">
                    <label for="coi-{{uniqueId}}-source" class="coi-text-dark d-block">Source</label>
                    <div id="coi-{{uniqueId}}-source" class="text-slice">
                        <app-no-data-label [valueToShow]="entityBatchDetails?.batchSrcType?.description">
                            <span [title]="entityBatchDetails?.batchSrcType?.description"
                                class="coi-text-light">{{entityBatchDetails?.batchSrcType?.description}}</span>
                        </app-no-data-label>
                    </div>
                </div>
                <!-- Batch Status -->
                <div *ngIf="fieldOrder === 'BATCH_STATUS'" tabindex="-1" class="{{columnClass}}"
                    [attr.aria-label]="'Batch status is ' + (entityBatchDetails?.batchStatusType?.batchStatusCode ? entityBatchDetails?.batchStatusType?.description : 'empty')">
                    <label for="coi-{{uniqueId}}-batch-status" class="coi-text-lighter d-block">Batch Status</label>
                    <div id="coi-{{uniqueId}}-batch-status" class="text-slice">
                        <app-no-data-label [valueToShow]="entityBatchDetails?.batchStatusType?.batchStatusCode">
                            <span class="{{BATCH_ENTITY_BATCH_STATUS_BADGE[entityBatchDetails?.batchStatusType?.batchStatusCode]}}"></span>
                            <span [title]="entityBatchDetails?.batchStatusType?.description"
                                class="coi-text-dark ms-1">{{entityBatchDetails?.batchStatusType?.description}}</span>
                        </app-no-data-label>
                    </div>
                </div>
                <!-- Review Status -->
                <div *ngIf="fieldOrder === 'REVIEW_STATUS'" tabindex="-1" class="{{columnClass}}"
                    [attr.aria-label]="'Review status is ' + (entityBatchDetails?.reviewStatusType?.reviewStatusCode? entityBatchDetails?.reviewStatusType?.description: 'empty')">
                    <label for="coi-{{uniqueId}}-review-status" class="coi-text-lighter d-block">Review Status</label>
                    <div id="coi-{{uniqueId}}-review-status" class="text-slice">
                        <app-no-data-label [valueToShow]="entityBatchDetails?.reviewStatusType?.reviewStatusCode">
                            <span class="{{BATCH_ENTITY_REVIEW_STATUS_BADGE[entityBatchDetails?.reviewStatusType?.reviewStatusCode]}}"></span>
                            <span [title]="entityBatchDetails?.reviewStatusType?.description"
                                class="coi-text-dark ms-1">{{entityBatchDetails?.reviewStatusType?.description}}</span>
                        </app-no-data-label>
                    </div>
                </div>
                <!-- Completion Date -->
                <div *ngIf="fieldOrder === 'COMPLETION_DATE'" tabindex="-1" class="{{columnClass}}"
                    [attr.aria-label]="'Completion date is ' + (entityBatchDetails?.completionDate ? (entityBatchDetails?.completionDate | dateFormatterWithTimeZone) : 'empty')">
                    <label for="coi-{{uniqueId}}-completion-date" class="coi-text-dark d-block">Completion Date</label>
                    <div id="coi-{{uniqueId}}-completion-date" class="text-slice">
                        <app-no-data-label [valueToShow]="entityBatchDetails?.completionDate">
                            <span [title]="entityBatchDetails?.completionDate | dateFormatterWithTimeZone"
                                class="coi-text-light">{{entityBatchDetails?.completionDate | dateFormatterWithTimeZone}}</span>
                        </app-no-data-label>
                    </div>
                </div>
            </ng-container>
            <!-- View -->
            <div *ngIf="isShowViewBtn" tabindex="-1" class="d-flex align-items-center col-auto ms-auto">
                <button id="coi-{{uniqueId}}-view-btn" (click)="viewBatchDetails()"
                    class="align-items-center btn btn-outline-secondary d-flex fs-14"
                    [disabled]="entityBatchDetails.batchStatusType.batchStatusCode !== BATCH_STATUS_TYPE_CODE.COMPLETED"
                    [title]="entityBatchDetails.batchStatusType.batchStatusCode !== BATCH_STATUS_TYPE_CODE.COMPLETED ? '' : 'Click here to view details of batch ID #' + entityBatchDetails?.batchId"
                    [attr.aria-label]="entityBatchDetails.batchStatusType.batchStatusCode !== BATCH_STATUS_TYPE_CODE.COMPLETED ? '' : 'Click here to view details of batch ID #' + entityBatchDetails?.batchId">
                    <mat-icon aria-hidden="true" class="me-1">visibility</mat-icon>
                    <span>View</span>
                </button>
            </div>
        </div>
        <div *ngIf="isShowBackBtn" class="d-flex align-items-center ps-3 border-start">
            <button id="coi-entity-batch-back-btn" name="coi-entity-batch-back-btn" (click)="navigateToBack()"
                class="btn btn-outline-grey fs-14 d-flex align-items-center btn-sm"
                title="Click here to navigate to entity dashboard"
                aria-label="Click here to navigate to entity dashboard">
                <mat-icon aria-hidden="true" class="flex-shrink-0">reply</mat-icon>
            </button>
        </div>
    </div>
</div>
