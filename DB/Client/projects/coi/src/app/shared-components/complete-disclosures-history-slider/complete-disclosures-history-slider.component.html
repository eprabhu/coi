<ng-container *ngIf="isOpenSlider">
    <app-coi-slider (closeSlider)="closeHistorySlider()" [elementId]="'disclosure-complete-history-slider'"
        [isHeaderNeeded]="true" [sliderWidth]="'w-75'">
        <ng-container header>
            <span>Overall History of {{ (disclosureDetails?.person?.fullName || disclosureDetails?.personName) }}</span><app-common-help-text
                [subSectionId]="808" [elementId]="'disclosure-complete-history-slider-title'"></app-common-help-text>
        </ng-container>
    
        <ng-container content-sticky>
            <!-- Search and filter -->
            <div *ngIf="isShowFilterAndSearch" class="advance-search overflow-hide-nav coi-search-box mt-2">
                <div class="row m-0">
                    <div class="col-lg-auto px-3 py-2">
                        <div class="fs-14 d-inline-block" role="radiogroup" aria-label="Filter by Type">
                            <span class="text-secondary">Filter By Type :</span>
                            <!-- All -->
                            <button id="coi-discl-hist-filter-type"
                                (click)="setFilter('ALL')" [class.active-filter-pills]="currentFilter=='ALL'"
                                attr.aria-label="Click here to filter by type: All"
                                title="Click here to filter by type: All"
                                class="filter-pills coi-text-light"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'ALL'">
                                All
                            </button>
                            <!-- Initial/Revision -->
                            <button *ngIf="commonService?.isShowFinancialDisclosure"
                                (click)="setFilter('FCOI')"
                                [class.active-filter-pills]="currentFilter=='FCOI'"
                                attr.aria-label="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_COI }} Initial/Revision"
                                title="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_COI }} Initial/Revision"
                                class="filter-pills coi-text-light"
                                id="coi-discl-hist-filter-fcoi"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'FCOI'">
                                {{ COMMON_DISCL_LOCALIZE.TERM_COI }} - Initial/Revision
                            </button>
                            <!-- Project -->
                            <button *ngIf="commonService?.isShowFinancialDisclosure"
                                (click)="setFilter('PROJECT')"
                                [class.active-filter-pills]="currentFilter=='PROJECT'"
                                attr.aria-label="Click here to filter by type: Project"
                                title="Click here to filter by type: Project"
                                class="filter-pills coi-text-light"
                                id="coi-discl-hist-filter-project"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'PROJECT'">
                                Project
                            </button>
                            <!-- OPA -->
                            <button *ngIf="commonService?.isShowOpaDisclosure"
                                (click)="setFilter('OPA')"
                                [class.active-filter-pills]="currentFilter=='OPA'"
                                title="Click here to filter by type: OPA - Initial/Revision"
                                attr.aria-label="Click here to filter by type: OPA - Initial/Revision"
                                class="filter-pills coi-text-light"
                                id="coi-discl-hist-filter-opa"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'OPA'">
                                OPA - Initial/Revision
                            </button>
                            <!-- Travel -->
                            <button *ngIf="commonService?.isShowTravelDisclosure"
                                (click)="setFilter('TRAVEL')"
                                [class.active-filter-pills]="currentFilter=='TRAVEL'"
                                attr.aria-label="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_TRAVEL }}"
                                title="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_TRAVEL }}"
                                class="filter-pills coi-text-light"
                                id="coi-discl-hist-filter-travel"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'TRAVEL'">
                                {{ COMMON_DISCL_LOCALIZE.TERM_TRAVEL }}
                            </button>
                            <!-- Consulting -->
                            <button *ngIf="commonService?.isShowConsultingDisclosure"
                                (click)="setFilter('CONSULTING')"
                                [class.active-filter-pills]="currentFilter=='CONSULTING'"
                                attr.aria-label="Click here to filter by type: Consulting"
                                title="Click here to filter by type: Consulting"
                                class="filter-pills coi-text-light"
                                id="coi-discl-hist-filter-consulting"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'CONSULTING'">
                                Consulting
                            </button>
                            <!-- DECLARATION -->
                            <button *ngIf="commonService.activeDeclarationTypes?.length"
                                (click)="setFilter('DECLARATION')"
                                class="filter-pills coi-text-light"
                                [class.active-filter-pills]="currentFilter=='DECLARATION'"
                                attr.aria-label="Click here to filter by type: {{ declarationLocalize.TERM }}"
                                title="Click here to filter by type: {{ declarationLocalize.TERM }}"
                                id="coi-certifyType-hist-filter"
                                role="radio"
                                [attr.aria-checked]="currentFilter == 'DECLARATION'">
                                {{ declarationLocalize.TERM }}
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        </ng-container>
    
        <ng-container *ngIf="!isLoading" content>
            <ng-container *ngIf="completeDisclosureList?.length; else noData">
                <ul class="timeline">
                    <li class="pb-5" *ngFor="let disclosure of completeDisclosureList; let index = index; let isLast=last;">
                        <app-shared-entire-disclosure-history [disclosureItem]="disclosure" [currentDisclosureDetails]="disclosureDetails" (CloseSlider)="closeSlider($event)"
                            [isLastElement]="isLast" [isOpenSlider]="false" [isTriggeredFromSlider]="true"></app-shared-entire-disclosure-history>
                    </li>
                </ul>
            </ng-container>
    
            <!-- no info -->
            <ng-template #noData >
                <app-no-information><span>{{ noDataMessage?.[currentFilter] }}</span></app-no-information>
            </ng-template>
        </ng-container>
    </app-coi-slider>
</ng-container>
