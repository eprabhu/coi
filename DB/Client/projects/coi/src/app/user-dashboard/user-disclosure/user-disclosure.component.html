<div class="d-flex flex-column flex-lg-row gap-2 gap-lg-3">
    <ng-container *ngIf="getActiveFCOI().length && isShowDisclosureMasterCard">
        <ng-container *ngFor="let disclosure of headerService.activeDisclosures">
            <!-- card design for Initial/Revision Disclosure (not pending)-->
            <ng-container *ngIf="hasActiveFCOI">
                <div *ngIf="disclosure?.fcoiTypeCode?.toString() !== DISCLOSURE_TYPE.PROJECT?.toString() && disclosure?.versionStatus !== 'PENDING'" class="col">
                    <!-- new card design(modern) -->
                    <div class="card coi-card-lite h-100">
                        <div class="card-body" id="coi-user-disclosure-fcoi-notpending-card">
                            <div class="row gx-9 h-100">
                                <div class="col-sm-12">
                                    <div class="d-flex flex-column h-100">
                                        <div class="mb-6">
                                            <div class="d-flex flex-stack mb-6">
                                                <div class="flex-shrink-0">
                                                    <span class="coi-text-darker fs-20">{{ COMMON_DISCL_LOCALIZE.TERM_COI }} Disclosure</span>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center flex-wrap d-grid gap-2 justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <div class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="fs-3 mat-icon mat-icon-no-color mat-ligature-font material-icons ng-tns-c239-66 notranslate"
                                                            aria-hidden="true" data-mat-icon-type="font">home</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></span>
                                                        <span class="coi-text-light"
                                                            [attr.aria-label]="disclosure?.unit?.unitDetail" id="coi-user-disclosure-fcoi-notpending-card-value-departemnt"> {{commonService.getPersonLeadUnitDetails(disclosure?.unit)}}</span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>

                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COI_CERTIFICATION_DATE">Certification Date</ng-container></span>
                                                        <span class="coi-text-light"
                                                            [attr.aria-label]="disclosure?.certifiedAt |dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="disclosure?.certifiedAt">
                                                                <span class="coi-text-light" id="coi-user-disclosure-fcoi-notpending-card-value-cert-date">{{disclosure?.certifiedAt|dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block">Expiration Date</span>
                                                        <span class="coi-text-light"
                                                            [attr.aria-label]="disclosure?.expirationDate |dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="disclosure?.expirationDate">
                                                                <span class="d-flex gap-2">
                                                                    <span class="coi-text-light" id="coi-user-disclosure-fcoi-notpending-card-value-exp-date">{{disclosure?.expirationDate |
                                                                        dateFormatterWithTimeZone}}</span>
                                                                    <ng-container *ngIf="disclosure?.isExtended">
                                                                        <app-common-extended-badge></app-common-extended-badge>
                                                                    </ng-container>
                                                                </span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-6">
                                            <div class="d-flex">
                                                <div class="border border-dashed border-gray-300 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISCLOSURE_STATUS">Disclosure Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiConflictStatusType?.description">
                                                        <app-no-data-label [valueToShow]="disclosure?.coiConflictStatusType?.description">
                                                            <span>
                                                                <span
                                                                    class="{{disclosureConflictStatusBadge[disclosure?.coiConflictStatusType?.conflictStatusCode] || 'yellow-badge'}} me-1"></span>
                                                                <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-notpending-card-value-disc-status">{{disclosure?.coiConflictStatusType?.description}}</span>
                                                            </span>
                                                        </app-no-data-label>
                                                    </span>
                                                </div>

                                                <div class="border border-dashed border-gray-300 ms-2 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiDispositionStatusType?.description">
                                                        <span
                                                            class="{{coiDispositionStatusBadge[disclosure?.coiDispositionStatusType?.dispositionStatusCode] || 'yellow-badge' }} me-1">
                                                        </span>
                                                        <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-notpending-card-value-disp-status">
                                                            {{disclosure?.coiDispositionStatusType?.description}}
                                                        </span>
                                                    </span>
                                                </div>

                                                <div class="border border-gray-300 border-dashed ms-2 rounded min-w-100px w-100 py-2 px-2">
                                                    <div class="coi-text-light"><ng-container i18n="@@COI_REVIEW_STATUS">Review Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiReviewStatusType?.description">
                                                        <span
                                                            class="{{coiReviewStatusBadge[disclosure?.coiReviewStatusType?.reviewStatusCode] }} me-1"></span>
                                                        <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-notpending-card-value-review-status">
                                                            {{disclosure?.coiReviewStatusType?.description}}
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="d-flex align-items-center flex-lg-column flex-xl-row mt-auto">
                                            <!-- FCOI Expire Date Validation -->
                                            <div *ngIf="fcoiExpireDateValidation?.isShowExpiringValidation && fcoiExpireDateValidation?.differenceInDays as diff"
                                                class="d-flex align-items-center gap-1 alert fs-14 fw-500 p-2 mb-0"
                                                id="fcoi-expire-date-alert" role="alert" aria-atomic="true" aria-live="assertive"
                                                [ngClass]="fcoiExpireDateValidation?.isExpiringIn10Days ? 'alert-danger' : 'alert-warning'">
                                                <div class="d-flex align-items-center alert-heading">
                                                    <mat-icon [ngClass]="fcoiExpireDateValidation?.isExpiringIn10Days ? 'text-danger' : 'text-warning'"
                                                        class="mb-auto me-1" aria-hidden="true">{{ fcoiExpireDateValidation?.isExpiringIn10Days ? 'error' : 'warning' }}</mat-icon>
                                                    <!-- if only one day remaining else show remaining time -->
                                                    <ng-container *ngIf="!diff.durInYears && !diff.durInMonths && diff.durInDays === 1; else showFcoiRemainingTime">
                                                        <span>{{ expireValidationMessage }}</span>
                                                    </ng-container>
                                                    <ng-template #showFcoiRemainingTime>
                                                        <span>Your Disclosure will expire in
                                                            <span *ngIf="diff.durInYears">{{ diff.durInYears }} year<span *ngIf="diff.durInMonths || diff.durInDays">, </span></span>
                                                            <span *ngIf="diff.durInMonths">{{ diff.durInMonths }} {{ diff.durInMonths === 1 ? 'month' : 'months' }}<span *ngIf="diff.durInDays">, </span></span>
                                                            <span *ngIf="diff.durInDays">{{ diff.durInDays }} {{ diff.durInDays === 1 ? 'day' : 'days' }}.</span>
                                                        </span>
                                                    </ng-template>
                                                </div>
                                            </div>

                                            <div class="ms-auto">
                                                <!-- Revise -->
                                                <button *ngIf="(!hasPendingFCOI && commonService.isDisclosureRequired) || hasPendingFCOI" class="align-items-center btn btn-sm btn-success d-inline-flex me-2"
                                                    (click)="fcoiReviseButtonAction()" title="Click here to revise disclosure"
                                                    aria-label="Click here to revise disclosure" id="coi-user-discl-notpending-revise-btn">
                                                    <mat-icon aria-hidden="true" class="me-1 flex-shrink-0">restart_alt</mat-icon>
                                                    <span>Revise</span>
                                                </button>
                                                <!-- view -->
                                                <button class="align-items-center btn btn-sm btn-primary d-inline-flex"
                                                    id="coi-user-disclosure-fcoi-notpending-card-view-btn"
                                                    (click)="redirectToFCOIDisclosure(disclosure)"
                                                    [attr.aria-label]="!headerService?.activeDisclosures ? 'Click here to view disclosure details'
                                                        : 'Click here to view ' + disclosure?.coiDisclosureFcoiType?.description?.toLowerCase() + ' disclosure details'"
                                                    [title]="!headerService?.activeDisclosures ? 'Click here to view disclosure details'
                                                        : 'Click here to view ' + disclosure?.coiDisclosureFcoiType?.description?.toLowerCase() + ' disclosure details'">
                                                    <mat-icon aria-hidden="true" class="me-1">visibility</mat-icon>
                                                    <span>View</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- new card design(modern) ends -->
                </div>
            </ng-container>

            <!-- card design for (pending) FCOI Disclosure-->
            <ng-container *ngIf="!hasActiveFCOI && hasPendingFCOI">
                <div class="col">
                    <!-- new card design(modern)2 -->
                    <div *ngIf="disclosure?.fcoiTypeCode != DISCLOSURE_TYPE.PROJECT && disclosure?.versionStatus == 'PENDING'" class="card coi-card-lite h-100" >
                        <div class="card-body" id="coi-user-disclosure-fcoi-pending-card">
                            <div class="row gx-9 h-100">
                                <div class="col-sm-12">
                                    <div class="d-flex flex-column h-100">
                                        <div class="mb-6">
                                            <div class="d-flex flex-stack mb-6">
                                                <div class="flex-shrink-0">
                                                    <span class="coi-text-darker fs-20">{{ COMMON_DISCL_LOCALIZE.TERM_COI }} Disclosure</span>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center flex-wrap d-grid gap-2 justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <div class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="fs-3 mat-icon mat-icon-no-color mat-ligature-font material-icons ng-tns-c239-66 notranslate"
                                                            aria-hidden="true" data-mat-icon-type="font">home</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></span>
                                                        <span class="coi-text-light" [attr.aria-label]="disclosure?.unit?.unitDetail"
                                                        id="coi-user-disclosure-fcoi-pending-card-value-department">
                                                            {{commonService.getPersonLeadUnitDetails(disclosure?.unit)}}</span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>

                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COI_CERTIFICATION_DATE">Certification Date</ng-container></span>
                                                        <span class="coi-text-light" [attr.aria-label]="disclosure?.certifiedAt | dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="disclosure?.certifiedAt">
                                                                <span class="coi-text-light" id="coi-user-disclosure-fcoi-pending-card-value-cert-date">{{disclosure?.certifiedAt |
                                                                    dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block">Expiration Date</span>
                                                        <span class="coi-text-light" [attr.aria-label]="disclosure?.expirationDate | dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="disclosure?.expirationDate">
                                                                <span class="d-flex gap-2">
                                                                    <span class="coi-text-light" id="coi-user-disclosure-fcoi-exp-date">{{disclosure?.expirationDate | dateFormatterWithTimeZone}}</span>
                                                                    <ng-container *ngIf="disclosure?.isExtended">
                                                                        <app-common-extended-badge></app-common-extended-badge>
                                                                    </ng-container>
                                                                </span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-6">
                                            <div class="d-flex">
                                                <div class="border border-dashed border-gray-300 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISCLOSURE_STATUS">Disclosure Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiConflictStatusType?.description">
                                                        <app-no-data-label [valueToShow]="disclosure?.coiConflictStatusType?.description">
                                                            <span class="py-2">
                                                                <span
                                                                    class="{{disclosureConflictStatusBadge[disclosure?.coiConflictStatusType?.conflictStatusCode] || 'yellow-badge'}}"></span>
                                                                <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-pending-card-value-disc-status">
                                                                    {{disclosure?.coiConflictStatusType?.description}}
                                                                </span>
                                                            </span>
                                                        </app-no-data-label>
                                                    </span>
                                                </div>

                                                <div class="border border-dashed border-gray-300 ms-2 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiDispositionStatusType?.description">
                                                        <span
                                                            class="{{coiDispositionStatusBadge[disclosure?.coiDispositionStatusType?.dispositionStatusCode] || 'yellow-badge' }} me-1">
                                                        </span>
                                                        <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-pending-card-value-disp-status">
                                                            {{disclosure?.coiDispositionStatusType?.description}}
                                                        </span>
                                                    </span>
                                                </div>

                                                <div class="border border-gray-300 border-dashed ms-2 rounded min-w-100px w-100 py-2 px-2">
                                                    <div class="coi-text-light"><ng-container i18n="@@COI_REVIEW_STATUS">Review Status</ng-container></div>
                                                    <span [attr.aria-label]="disclosure?.coiReviewStatusType?.description">
                                                        <span
                                                            class="{{coiReviewStatusBadge[disclosure?.coiReviewStatusType?.reviewStatusCode] || 'red-badge'}}"></span>
                                                        <span class="coi-text-light fw-bold" id="coi-user-disclosure-fcoi-pending-card-value-review-status">
                                                            {{disclosure?.coiReviewStatusType?.description}}
                                                        </span>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-stack mt-auto">
                                            <div class="ms-auto">
                                                <button class="align-items-center btn btn-sm btn-primary d-inline-flex"
                                                    (click)="redirectToFCOIDisclosure(disclosure)"
                                                    [attr.aria-label]="!headerService?.activeDisclosures ? 'Click here to view disclosure details'
                                                        : 'Click here to view ' + disclosure?.coiDisclosureFcoiType?.description?.toLowerCase() + ' disclosure details'"
                                                    [title]="!headerService?.activeDisclosures ? 'Click here to view disclosure details'
                                                        : 'Click here to view ' + disclosure?.coiDisclosureFcoiType?.description?.toLowerCase() + ' disclosure details'">
                                                    <mat-icon aria-hidden="true" class="me-1">visibility</mat-icon>
                                                    <span>View</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- new card design(modern) ends -->
                </div>
            </ng-container>
        </ng-container>
    </ng-container>

    <!-- card design for (create) FCOI Disclosure-->
    <ng-container *ngIf="!getActiveFCOI().length && isShowDisclosureMasterCard && commonService.isDisclosureRequired">
        <div class="col">
            <!-- new card design(modern) 3 -->
            <div class="card coi-card-lite h-100">
                <div class="card-body" id="coi-user-disclosure-fcoi-create-card">
                    <div class="row gx-9 h-100">
                        <div class="col-sm-12">
                            <div class="d-flex flex-column h-100">
                                <div class="mb-6">
                                    <div class="d-flex flex-stack mb-6">
                                        <div class="flex-shrink-0">
                                            <span class="coi-text-darker fs-20">{{ COMMON_DISCL_LOCALIZE.TERM_COI }} Disclosure</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-6">
                                    <div class="d-flex">
                                        <p class="col fs-14 fw-normal coi-text-justify" tabindex="-1">
                                            A conflict of interest occurs when your personal, financial, or other interests could influence or appear to
                                            influence your judgment and decision-making in the workplace. Please disclose any existing or potential conflicts of
                                            interest you may have. Click on the button below to start your {{ COMMON_DISCL_LOCALIZE.TERM_COI_INITIAL_DISCL }} creation.
                                        </p>
                                    </div>
                                </div>
                                <div class="d-flex flex-stack mt-auto">
                                    <div class="ms-auto">
                                        <!-- Create Initial Disclosure -->
                                        <button id="coi-user-discl-fcoi-create-btn"
                                            class="d-inline-flex align-items-center btn btn-sm btn-primary"
                                            attr.aria-label="Click here to create {{ COMMON_DISCL_LOCALIZE.TERM_COI_INITIAL_DISCL }}"
                                            title="Click here to create {{ COMMON_DISCL_LOCALIZE.TERM_COI_INITIAL_DISCL }}" (click)="handleFCOICreation('INITIAL')">
                                            <mat-icon aria-hidden="true" class="me-1">add</mat-icon>
                                            <span class="fs-14">Create {{ COMMON_DISCL_LOCALIZE.TERM_COI_INITIAL_DISCL }}</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- new card design(modern) ends -->
        </div>
    </ng-container>

    <!-- card design for (create) OPA Disclosure-->
    <ng-container *ngIf="!headerService.activeOPAs.length && isShowOpaMasterCard && (commonService.canCreateOPA || hasPendingOPA)">
        <ng-container *ngIf="!hasPendingOPA && !hasActiveOPA">
            <div class="col">
            <!-- new card design(modern) 4 -->
            <div *ngIf="commonService.canCreateOPA" class="card coi-card-lite h-100">
                <div class="card-body" id="coi-user-disclosure-opa-create-card">
                    <div class="row gx-9 h-100">
                        <div class="col-sm-12">
                            <div class="d-flex flex-column h-100">
                                <div class="mb-6">
                                    <div class="d-flex flex-stack mb-6">
                                        <div class="flex-shrink-0">
                                            <span class="coi-text-darker fs-20" tabindex="-1" aria-label="OPA Disclosure">OPA Disclosure</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-6">
                                    <div class="d-flex">
                                        <p class="col fs-14 fw-normal new-line-property" tabindex="-1" aria-label="OPA activities could include consulting, teaching, public speaking, or serving on
                                    boards. Please disclose any outside professional activities you are currently engaged in or
                                    plan to engage in. Include details such as the name of the organization, your role, and the
                                    time commitment involved.">
                                        OPA activities could include consulting, teaching, public speaking, or serving
                                        on boards. Please disclose any outside
                                        professional activities you are currently engaged in or plan to engage in. Include details such as the name of the
                                        organization, your role, and the time commitment involved. Click on the button
                                        below to start your disclosure OPA creation.
                                        </p>
                                    </div>
                                </div>

                                <div class="d-flex flex-stack mt-auto">
                                    <div class="ms-auto">
                                        <a class="align-items-center btn btn-sm btn-primary d-inline-flex" id="coi-user-disclosure-opa-create-card-add-btn" (click)="createOPA()"
                                        (keyup.enter)="createOPA()" (keyup.space)="createOPA()" tabindex="0"
                                            aria-label="Create OPA Disclosure" title="Click here to create new OPA disclosure">
                                            <mat-icon aria-hidden="true" class="me-1">add</mat-icon>
                                            <span class="fs-14">Create OPA Disclosure</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- new card design(modern) ends -->
        </div>
        </ng-container>
    </ng-container>

    <ng-container *ngIf="isShowOpaMasterCard">
        <ng-container *ngFor="let opaDisclosure of headerService.activeOPAs">
             <!-- card design for (pending) OPA Disclosure-->
            <ng-container *ngIf="hasPendingOPA && !hasActiveOPA">
                <div *ngIf="opaDisclosure?.dispositionStatusType?.dispositionStatusCode === '1'" class="col">
                    <!-- new card design(modern) 5 -->
                    <div class="card coi-card-lite h-100">
                        <div class="card-body" id="coi-user-disclosure-opa-pending-card">
                            <div class="row gx-9 h-100">
                                <div class="col-sm-12">
                                    <div class="d-flex flex-column h-100">
                                        <div class="mb-6">
                                            <div class="d-flex flex-stack mb-6">
                                                <div class="flex-shrink-0">
                                                    <span class="coi-text-darker fs-20" tabindex="-1" aria-label="OPA Disclosure">OPA Disclosure</span>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center flex-wrap d-grid gap-2 justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <div class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="fs-3 mat-icon mat-icon-no-color mat-ligature-font material-icons ng-tns-c239-66 notranslate"
                                                            aria-hidden="true" data-mat-icon-type="font">home</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></span>
                                                        <span class="coi-text-light"><app-no-data-label [valueToShow]="opaDisclosure?.unitDisplayName"></app-no-data-label></span>
                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@OPA_CERTIFICATION_DATE">Certification Date</ng-container></span>
                                                        <span class="coi-text-light" [attr.aria-label]="opaDisclosure?.submissionTimestamp | dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="opaDisclosure?.submissionTimestamp">
                                                                <span class="coi-text-light" id="coi-user-disclosure-opa-pending-card-value-create-date">{{opaDisclosure?.submissionTimestamp |
                                                                    dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>
                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>

                                                    </div>
                                                    <!-- <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block">Period</span>
                                                        <span class="coi-text-light"
                                                        [attr.aria-label]="(opaDisclosure?.opaCycles?.periodStartDate | dateFormatter) + ' - ' + (opaDisclosure?.opaCycles?.periodEndDate | dateFormatter)">
                                                            <app-no-data-label
                                                                [valueToShow]="opaDisclosure?.opaCycles?.periodStartDate && opaDisclosure?.opaCycles?.periodEndDate">
                                                                <span class="coi-text-light" id="coi-user-disclosure-opa-pending-card-value-period">{{opaDisclosure?.opaCycles?.periodStartDate
                                                                    | dateFormatter}}
                                                                    -
                                                                    {{opaDisclosure?.opaCycles?.periodEndDate | dateFormatter}}</span>
                                                            </app-no-data-label></span>
                                                    </div> -->
                                                     <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block">Expiration Date</span>
                                                        <span class="coi-text-light" [attr.aria-label]="opaDisclosure?.expirationDate | dateFormatterWithTimeZone">
                                                             <app-no-data-label [valueToShow]="opaDisclosure?.expirationDate">
                                                                <span class="coi-text-light" id="coi-user-disclosure-opa-pending-card-value-create-date">{{opaDisclosure?.expirationDate |
                                                                    dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-6">
                                            <div class="d-flex">
                                                <div class="border border-dashed border-gray-300 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></div>
                                                    <span>
                                                        <app-no-data-label [valueToShow]="opaDisclosure?.dispositionStatusType?.description">
                                                            <span
                                                                class="{{opaDispositionStatusBadge[opaDisclosure?.dispositionStatusType?.dispositionStatusCode] || 'yellow-badge'}} me-1"></span>
                                                            <span class="coi-text-light fw-bold" id="coi-user-disclosure-opa-pending-card-value-disp-status">{{opaDisclosure?.dispositionStatusType?.description}}</span>
                                                        </app-no-data-label>
                                                    </span>
                                                </div>

                                                <div class="border border-dashed border-gray-300 ms-2 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@OPA_REVIEW_STATUS">Review Status</ng-container></div>
                                                    <span>
                                                        <app-no-data-label
                                                        [valueToShow]="opaDisclosure?.reviewStatusType?.description">
                                                        <span
                                                            class="{{opaReviewStatusBadge[opaDisclosure?.reviewStatusType?.reviewStatusCode] || 'red-badge'}} me-1"></span>
                                                        <span
                                                            class="coi-text-light fw-bold" id="coi-user-disclosure-opa-pending-card-value-review-status">{{opaDisclosure?.reviewStatusType?.description}}
                                                        </span>
                                                    </app-no-data-label>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-stack mt-auto">
                                            <div class="ms-auto">
                                                <a class="align-items-center btn btn-sm btn-primary d-inline-flex" id="coi-user-disclosure-opa-pending-card-view-btn"
                                                    (click)="redirectToOPADisclosure(opaDisclosure)" tabindex="0"
                                                    aria-label="Click here to view OPA disclosure details" role="button"
                                                    title="Click here to view OPA disclosure details">
                                                    <mat-icon class="me-1" aria-hidden="true">visibility</mat-icon>
                                                    <span>View</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- new card design(modern) ends -->
                </div>
            </ng-container>

            <!-- card design for (approved and expired) OPA Disclosure-->
            <ng-container *ngIf="hasActiveOPA">
                <div *ngIf="['3', '4'].includes(opaDisclosure?.dispositionStatusType?.dispositionStatusCode)" class="col">
                    <!-- new card design(modern) 6 -->
                    <div class="card coi-card-lite h-100">
                        <div class="card-body" id="coi-user-discl-opa-approved-expired-card">
                            <div class="row gx-9 h-100">
                                <div class="col-sm-12">
                                    <div class="d-flex flex-column h-100">
                                        <div class="mb-6">
                                            <div class="d-flex flex-stack mb-6">
                                                <div class="flex-shrink-0">
                                                    <span class="coi-text-darker fs-20" tabindex="-1" aria-label="OPA Disclosure">OPA Disclosure</span>
                                                </div>
                                            </div>
                                            <div class="d-flex align-items-center flex-wrap d-grid gap-2 justify-content-between">
                                                <div class="d-flex align-items-center">
                                                    <div class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="fs-3 mat-icon mat-icon-no-color mat-ligature-font material-icons ng-tns-c239-66 notranslate"
                                                            aria-hidden="true" data-mat-icon-type="font">home</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></span>
                                                        <span class="coi-text-light" [attr.aria-label]="opaDisclosure?.unitDisplayName">
                                                            <app-no-data-label [valueToShow]="opaDisclosure?.unitDisplayName">
                                                                <span class="coi-text-light" id="coi-user-discl-opa-approved-expired-card-value-department">{{opaDisclosure?.unitDisplayName}}</span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>
                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block"><ng-container i18n="@@OPA_CERTIFICATION_DATE">Certification Date</ng-container></span>
                                                        <span class="coi-text-light">
                                                            <app-no-data-label [valueToShow]="opaDisclosure?.submissionTimestamp">
                                                                <span class="coi-text-light" id="coi-user-discl-opa-approved-expired-card-value-created-date">{{opaDisclosure?.submissionTimestamp |
                                                                    dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label></span>
                                                    </div>
                                                </div>

                                                <div class="d-flex align-items-center">
                                                    <div
                                                        class="align-items-center d-inline-flex justify-content-center me-2 symbol symbol-30px symbol-circle flex-shrink-0">
                                                        <mat-icon role="img"
                                                            class="mat-icon notranslate fs-3 ng-tns-c239-66 material-icons mat-ligature-font mat-icon-no-color"
                                                            aria-hidden="true" data-mat-icon-type="font">calendar_month</mat-icon>

                                                    </div>
                                                    <div class="m-0">
                                                        <span class="coi-text-dark fs-12 d-block">Expiration Date</span>
                                                        <span class="coi-text-light" [attr.aria-label]="opaDisclosure?.expirationDate | dateFormatterWithTimeZone">
                                                            <app-no-data-label [valueToShow]="opaDisclosure?.expirationDate">
                                                                <span class="coi-text-light"
                                                                    id="coi-user-disclosure-opa-pending-card-value-create-date">{{opaDisclosure?.expirationDate |
                                                                    dateFormatterWithTimeZone}}</span>
                                                            </app-no-data-label>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-6">
                                            <div class="d-flex">
                                                <div class="border border-dashed border-gray-300 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></div>
                                                    <span>
                                                        <app-no-data-label
                                                        [valueToShow]="opaDisclosure?.dispositionStatusType?.description">
                                                        <span
                                                            class="{{opaDispositionStatusBadge[opaDisclosure?.dispositionStatusType?.dispositionStatusCode] || 'yellow-badge' }} me-1"></span>
                                                        <span
                                                            class="coi-text-light fw-bold" id="coi-user-discl-opa-approved-expired-card-value-disp-status">{{opaDisclosure?.dispositionStatusType?.description}}</span>
                                                    </app-no-data-label>
                                                    </span>
                                                </div>

                                                <div class="border border-dashed border-gray-300 ms-2 min-w-100px px-2 py-2 rounded w-100">
                                                    <div class="coi-text-light"><ng-container i18n="@@OPA_REVIEW_STATUS">Review Status</ng-container></div>
                                                    <span>
                                                        <app-no-data-label
                                                            [valueToShow]="opaDisclosure?.reviewStatusType?.description">
                                                            <span
                                                                class="{{opaReviewStatusBadge[opaDisclosure?.reviewStatusType?.reviewStatusCode] ||'red-badge' }} me-1"></span>
                                                            <span
                                                                class="coi-text-light fw-bold" id="coi-user-discl-opa-approved-expired-card-value-review-status">{{opaDisclosure?.reviewStatusType?.description}}
                                                            </span>
                                                        </app-no-data-label>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-stack mt-auto">
                                            <!-- OPA Expire Date Validation -->
                                            <div *ngIf="opaExpireDateValidation?.isShowExpiringValidation && opaExpireDateValidation?.differenceInDays as diff"
                                                class="d-flex align-items-center gap-1 alert fs-14 fw-500 p-2 mb-0"
                                                id="opa-expire-date-alert" role="alert" aria-atomic="true" aria-live="assertive"
                                                [ngClass]="opaExpireDateValidation?.isExpiringIn10Days ? 'alert-danger' : 'alert-warning'">
                                                <div class="d-flex align-items-center alert-heading">
                                                    <mat-icon [ngClass]="opaExpireDateValidation?.isExpiringIn10Days ? 'text-danger' : 'text-warning'"
                                                        class="mb-auto me-1" aria-hidden="true">{{ opaExpireDateValidation?.isExpiringIn10Days ? 'error' : 'warning' }}</mat-icon>
                                                    <!-- if only one day remaining else show remaining time -->
                                                    <ng-container *ngIf="!diff.durInYears && !diff.durInMonths && diff.durInDays === 1; else showOpaRemainingTime">
                                                        <span>{{ expireValidationMessage }}</span>
                                                    </ng-container>
                                                    <ng-template #showOpaRemainingTime>
                                                        <span>Your Disclosure will expire in
                                                            <span *ngIf="diff.durInYears">{{ diff.durInYears }} year<span *ngIf="diff.durInMonths || diff.durInDays">, </span></span>
                                                            <span *ngIf="diff.durInMonths">{{ diff.durInMonths }} {{ diff.durInMonths === 1 ? 'month' : 'months' }}<span *ngIf="diff.durInDays">, </span></span>
                                                            <span *ngIf="diff.durInDays">{{ diff.durInDays }} {{ diff.durInDays === 1 ? 'day' : 'days' }}.</span>
                                                        </span>
                                                    </ng-template>
                                                </div>
                                            </div>

                                            <div class="ms-auto">
                                                 <!-- Revise -->
                                                <button *ngIf="commonService.canCreateOPA && headerService.opaCreationType === 'REVISION'"
                                                    class="align-items-center btn btn-sm btn-success d-inline-flex me-2"
                                                    (click)="reviseOPA()" title="Click here to revise opa"
                                                    aria-label="Click here to revise disclosure" id="coi-user-opa-not-pending-card-revise-btn">
                                                    <mat-icon aria-hidden="true" class="me-1 flex-shrink-0">restart_alt</mat-icon>
                                                    <span>Revise</span>
                                                </button>
                                                <button class="align-items-center btn btn-sm btn-primary d-inline-flex" tabindex="0" id="coi-user-discl-opa-approved-expired-card-view-btn"
                                                    (click)="redirectToOPADisclosure(opaDisclosure)"
                                                    title="Click here to view OPA disclosure details"
                                                    aria-label="Click here to view OPA disclosure details">
                                                    <mat-icon aria-hidden="true" class="me-1">visibility</mat-icon>
                                                    <span>View</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- new card design(modern) ends -->
                </div>
            </ng-container>
        </ng-container>
    </ng-container>
</div>
<div class="nav-filter-card-sticky">
    <!-- Dashboard tabs and counts -->
<nav *ngIf="!isShowCreate" class="coi-nav-tab d-flex align-items-center fs-14 fw-bold mt-3 user-dashboard-nav d-inline-block overflow-hide-nav">
    <div *ngIf="commonService?.isShowFinancialDisclosure || commonService?.isShowOpaDisclosure" (click)="setTab('IN_PROGRESS_DISCLOSURES')" class="border-end navigation-icons px-3 hand-cursor" role="tab"
        [attr.aria-label]="currentSelected.tab=='IN_PROGRESS_DISCLOSURES' ? 'In Progress Disclosures' : 'Click here to view In Progress Disclosures'"
        [title]="currentSelected.tab=='IN_PROGRESS_DISCLOSURES' ? 'In Progress Disclosures' : 'Click here to view In Progress Disclosures'"
        tabindex="0"(keyup.enter)="setTab('IN_PROGRESS_DISCLOSURES')">
        <span [class.active]="currentSelected.tab=='IN_PROGRESS_DISCLOSURES'" class="py-2 active d-block" id="coi-user-disclosure-dashboard-inprogress-disclosure"
        [attr.aria-label]="currentSelected.tab=='IN_PROGRESS_DISCLOSURES' ? 'Selected tab is In Progress Disclosures with ' + (dashboardCount?.inProgressDisclosureCount || 0) + ' disclosures' : 'In Progress Disclosures with ' + (dashboardCount?.inProgressDisclosureCount || 0) + ' disclosures'">
            In Progress <span class="disclosures-text"></span> ({{dashboardCount?.inProgressDisclosureCount || 0}})</span>
    </div>
    <div *ngIf="commonService?.isShowFinancialDisclosure || commonService?.isShowOpaDisclosure" (click)="setTab('APPROVED_DISCLOSURES')" class="border-end navigation-icons px-3 hand-cursor" role="tab"
         tabindex="0" (keyup.enter)="setTab('APPROVED_DISCLOSURES')"
         [attr.aria-label]="currentSelected.tab=='APPROVED_DISCLOSURES' ? 'Approved Disclosures' : 'Click here to view Approved Disclosures'"
         [title]="currentSelected.tab=='APPROVED_DISCLOSURES' ? 'Approved Disclosures' : 'Click here to view Approved Disclosures'">
        <span [class.active]="currentSelected.tab=='APPROVED_DISCLOSURES'" class="py-2 d-block" id="coi-user-disclosure-dashboard-approved-disclosure"
        [attr.aria-label]="currentSelected.tab=='APPROVED_DISCLOSURES' ? 'Selected tab is Approved Disclosures with ' + (dashboardCount?.approvedDisclosureCount || 0) + ' disclosures' : 'Approved Disclosures with ' + (dashboardCount?.approvedDisclosureCount || 0) + ' disclosures'">
         Approved <span class="disclosures-text"></span> ({{dashboardCount?.approvedDisclosureCount || 0}})</span>
    </div>
    <div *ngIf="commonService?.isShowTravelDisclosure" (click)="setTab('TRAVEL_DISCLOSURES')" class="border-end navigation-icons px-3 hand-cursor" role="tab"
        [attr.aria-label]="currentSelected.tab=='TRAVEL_DISCLOSURES' ? 'Travel Disclosures' : 'Click here to view Travel Disclosures'"
        [title]="currentSelected.tab=='TRAVEL_DISCLOSURES' ? 'Travel Disclosures' : 'Click here to view Travel Disclosures'"
        tabindex="0" (keyup.enter)="setTab('TRAVEL_DISCLOSURES')">
        <span [class.active]="currentSelected.tab=='TRAVEL_DISCLOSURES'" class="py-2 d-block" id="coi-user-disclosure-dashboard-travel-disclosure"
        [attr.aria-label]="currentSelected.tab=='TRAVEL_DISCLOSURES' ? 'Selected tab is Travel Disclosures with ' + (dashboardCount?.travelDisclosureCount || 0) + ' disclosures' : 'Travel Disclosures with ' + (dashboardCount?.travelDisclosureCount || 0) + ' disclosures'">
        Travel <span class="disclosures-text"></span> ({{dashboardCount?.travelDisclosureCount || 0}})</span>
    </div>
    <div *ngIf="commonService?.isShowConsultingDisclosure" (click)="setTab('CONSULTING_DISCLOSURES')" class="border-end navigation-icons px-3 hand-cursor" role="tab"
        [attr.aria-label]="currentSelected.tab=='CONSULTING_DISCLOSURES' ? 'Consulting Disclosures' : 'Click here to view Consulting Disclosures'"
        [title]="currentSelected.tab=='CONSULTING_DISCLOSURES' ? 'Consulting Disclosures' : 'Click here to view Consulting Disclosures'"
        tabindex="0" (keyup.enter)="setTab('CONSULTING_DISCLOSURES')">
        <span [class.active]="currentSelected.tab=='CONSULTING_DISCLOSURES'" class="py-2 d-block" id="coi-user-disclosure-dashboard-consulting-disclosure"
        [attr.aria-label]="currentSelected.tab=='CONSULTING_DISCLOSURES' ? 'Selected tab is consulting Disclosures with ' + (dashboardCount?.consultDisclCount || 0) + ' disclosures' : 'Consulting Disclosures with ' + (dashboardCount?.consultDisclCount || 0) + ' disclosures'">
        Consulting <span class="disclosures-text"></span> ({{dashboardCount?.consultDisclCount || 0}})</span>
    </div>
    <!-- DECLARATION -->
    <div *ngIf="commonService?.activeDeclarationTypes?.length" tabindex="0" role="tab"
        (click)="setTab('DECLARATION')" (keyup.enter)="setTab('DECLARATION')" class="border-end navigation-icons px-3 hand-cursor" 
        [attr.aria-label]="currentSelected.tab === 'DECLARATION' ? declarationLocalize.PLURAL_TERM : 'Click here to view ' + declarationLocalize.PLURAL_TERM"
        [title]="currentSelected.tab === 'DECLARATION' ? declarationLocalize.PLURAL_TERM : 'Click here to view ' + declarationLocalize.PLURAL_TERM">
        <span [class.active]="currentSelected.tab === 'DECLARATION'" class="py-2 d-block" id="declaration-dash-tab"
            [attr.aria-label]="(currentSelected.tab === 'DECLARATION' ? 'Currently selected: ' : '') + declarationLocalize.PLURAL_TERM + ' tab, ' + (dashboardCount?.declarationCount || 0) + ' ' + ((dashboardCount?.declarationCount || 0) === 1 ? 'item' : 'items')">
            {{ declarationLocalize.PLURAL_TERM }} ({{dashboardCount?.declarationCount || 0}})</span>
    </div>
    <!-- CMP -->
    <div *ngIf="commonService.isShowManagementPlan" tabindex="0" role="tab"
        (click)="setTab('CMP')" (keyup.enter)="setTab('CMP')" class="border-end navigation-icons px-3 hand-cursor" 
        [attr.aria-label]="currentSelected.tab == 'CMP' ? (CMP_LOCALIZE.TERM_CMP) : 'Click here to view ' + CMP_LOCALIZE.TERM_CMP"
        [title]="currentSelected.tab=='CMP' ? (CMP_LOCALIZE.TERM_CMP) : 'Click here to view ' + CMP_LOCALIZE.TERM_CMP">
        <span [class.active]="currentSelected.tab == 'CMP'" class="py-2 d-block" id="coi-user-disclosure-dashboard-cmp"
            [attr.aria-label]="(currentSelected.tab === 'CMP' ? 'Currently selected: ' : '') + CMP_LOCALIZE.TERM_CMP + ' tab, ' + (dashboardCount?.cmpCount || 0) + ' ' + ((dashboardCount?.cmpCount || 0) === 1 ? 'item' : 'items')">
            <span>{{ CMP_LOCALIZE.TERM_CMP }} ({{dashboardCount?.cmpCount || 0}})</span>
        </span>
    </div>
    <div (click)="setTab('DISCLOSURE_HISTORY')" class="navigation-icons px-3 hand-cursor" role="tab"
        [attr.aria-label]="currentSelected.tab=='DISCLOSURE_HISTORY' ? 'Disclosure History' : 'Click here to view Disclosure History'"
        [title]="currentSelected.tab=='DISCLOSURE_HISTORY' ? 'Disclosure History' : 'Click here to view Disclosure History'"
        tabindex="0" (keyup.enter)="setTab('DISCLOSURE_HISTORY')">
        <span [class.active]="currentSelected.tab=='DISCLOSURE_HISTORY'" class="py-2 d-block" id="coi-user-disclosure-dashboard-history"
        [attr.aria-label]="currentSelected.tab=='DISCLOSURE_HISTORY' ? 'Selected tab is Disclosure History' : 'Disclosure History'">
        <span class="disclosure-text"></span> History</span>
    </div>
</nav>
<!-- Search, sort and filter -->
<div *ngIf="isShowFilterAndSearch && !(!completeDisclosureList.length && !searchText && currentSelected.filter === 'ALL')" class="advance-search overflow-hide-nav coi-search-box mt-2">
    <div class="row m-0 align-items-center">
        <!-- Filter -->
        <div *ngIf="isShowFilterBox && currentSelected.tab !== 'TRAVEL_DISCLOSURES'" class="col-lg-auto px-3 py-2">
            <div role="radiogroup" class="fs-14 d-inline-block" [@leftSlideInOut]>
                <span class="text-secondary" tabindex="-1">Filter By Type :</span>
                <!-- All -->
                <button id="discl-hist-filter-all"
                    (click)="setFilter('ALL')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'ALL'"
                    title="Click here to filter by type: All"
                    aria-label="Click here to filter by type: All"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'ALL'">
                    All
                </button>
                <!-- Initial/Revision -->
                <button *ngIf="commonService?.isShowFinancialDisclosure && ['IN_PROGRESS_DISCLOSURES', 'APPROVED_DISCLOSURES', 'DISCLOSURE_HISTORY'].includes(currentSelected.tab)"
                    id="discl-hist-filter-fcoi"
                    (click)="setFilter('FCOI')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'FCOI'"
                    title="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_COI }} Initial/Revision"
                    attr.aria-label="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_COI }} Initial/Revision"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'FCOI'">
                    {{ COMMON_DISCL_LOCALIZE.TERM_COI }} - Initial/Revision
                </button>
                <!-- Project -->
                <button *ngIf="commonService?.isShowFinancialDisclosure && ['IN_PROGRESS_DISCLOSURES', 'APPROVED_DISCLOSURES', 'DISCLOSURE_HISTORY'].includes(currentSelected.tab)"
                    id="discl-hist-filter-project"
                    (click)="setFilter('PROJECT')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'PROJECT'"
                    [attr.aria-label]="currentSelected.filter === 'PROJECT' ? 'Selected filter type is Project' : 'Project'"
                    title="Click here to filter by type: Project"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'PROJECT'">
                    Project
                </button>
                <!-- OPA -->
                <button *ngIf="commonService?.isShowOpaDisclosure && ['IN_PROGRESS_DISCLOSURES', 'APPROVED_DISCLOSURES', 'DISCLOSURE_HISTORY'].includes(currentSelected.tab)"
                    id="discl-hist-filter-opa"
                    (click)="setFilter('OPA')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'OPA'"
                    title="Click here to filter by type: OPA - Initial/Revision"
                    [attr.aria-label]="currentSelected.filter === 'OPA' ? 'Selected filter type is OPA - Initial/Revision' : 'OPA - Initial/Revision'"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'OPA'">
                    OPA - Initial/Revision
                </button>
                <!-- Travel -->
                <button *ngIf="currentSelected.tab == 'DISCLOSURE_HISTORY' && commonService?.isShowTravelDisclosure"
                    id="discl-hist-filter-travel"
                    (click)="setFilter('TRAVEL')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'TRAVEL'"
                    [attr.aria-label]="currentSelected.filter === 'TRAVEL'
                        ? ('Selected filter type is ' + COMMON_DISCL_LOCALIZE.TERM_TRAVEL) : COMMON_DISCL_LOCALIZE.TERM_TRAVEL"
                    title="Click here to filter by type: {{ COMMON_DISCL_LOCALIZE.TERM_TRAVEL }}"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'TRAVEL'">
                    {{ COMMON_DISCL_LOCALIZE.TERM_TRAVEL }}
                </button>
                <!-- Consulting -->
                <button *ngIf="currentSelected.tab == 'DISCLOSURE_HISTORY' && commonService?.isShowConsultingDisclosure"
                    id="discl-hist-filter-consulting"
                    (click)="setFilter('CONSULTING')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'CONSULTING'"
                    [attr.aria-label]="currentSelected.filter === 'CONSULTING' ? 'Selected filter type is Consulting ' : 'Consulting'"
                    title="Click here to filter by type: Consulting"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'CONSULTING'">
                    Consulting
                </button>
                <!-- DECLARATION -->
                <button *ngIf="currentSelected.tab === 'DISCLOSURE_HISTORY' && commonService.activeDeclarationTypes?.length"
                    id="discl-hist-filter-declaration"
                    (click)="setFilter('DECLARATION')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'DECLARATION'"
                    attr.aria-label="Click here to filter by type: {{ declarationLocalize.TERM }}"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'DECLARATION'">
                    {{ declarationLocalize.TERM }}
                </button>
                <!-- CMP -->
                <button *ngIf="currentSelected.tab === 'DISCLOSURE_HISTORY' && commonService.isShowManagementPlan"
                    id="discl-hist-filter-declaration"
                    (click)="setFilter('CMP')" class="filter-pills coi-text-light"
                    [class.active-filter-pills]="currentSelected.filter === 'CMP'"
                    attr.aria-label="Click here to filter by type: {{ CMP_LOCALIZE.TERM_CMP }}"
                    role="radio" [attr.aria-checked]="currentSelected.filter === 'CMP'">
                    {{ CMP_LOCALIZE.TERM_CMP }}
                </button>
                <!-- DECLARATION Types -->
                <ng-container *ngIf="currentSelected.tab === 'DECLARATION' && commonService.activeDeclarationTypes?.length > 1">
                    <ng-container *ngFor="let declarationTypeConfig of commonService.activeDeclarationTypes">
                        <button id="discl-hist-filter-declaration-{{ declarationTypeConfig?.declarationTypeCode }}"
                            (click)="setFilter(declarationTypeConfig?.declarationTypeCode)" class="filter-pills coi-text-light"
                            [class.active-filter-pills]="currentSelected.filter === declarationTypeConfig?.declarationTypeCode"
                            attr.aria-label="Click here to filter by type: {{ declarationTypeConfig?.declarationType }}"
                            role="radio" [attr.aria-checked]="currentSelected.filter === declarationTypeConfig?.declarationTypeCode">
                            {{ declarationTypeConfig?.declarationType }}
                        </button>
                    </ng-container>
                </ng-container>
            </div>
        </div>

        <!-- Sort By (for travel disclosures tab) -->
        <div *ngIf="['TRAVEL_DISCLOSURES', 'CMP'].includes(currentSelected.tab)" class="col-lg-auto px-3 py-2">
            <div class="fs-14 d-inline-block travel-sort-container my-1" [@leftSlideInOut]>
                <label class="text-secondary me-2" tabindex="-1">Sort By :</label>
                <div class="d-inline-flex flex-wrap gap-2 travel-sort-buttons">
                    <button *ngFor="let sortSection of sortSectionsList; let index = index"
                        title="Click here to sort by {{sortSection?.fieldName}}"
                        (click)="sortResult(sortSection?.variableName)"
                        [attr.aria-labelledby]="'coi-user-dashboard-sort-' + index"
                        [ngClass]="getClassForSort(index, sortSection)"
                        class="shadow-sm fw-medium py-1 px-2 fs-13 border rounded-5 bg-white coi-sort-filter-btn travel-sort-btn">
                        <div class="d-inline-flex align-items-center">
                            <span class="d-none" id="coi-admin-dashboard-sort-{{index}}">Click here to sort by {{ sortSection?.fieldName }} in
                                {{userDisclosureService.dashboardRequestObject.sort[sortSection?.variableName] === 'asc' ? 'descending Order' : userDisclosureService.dashboardRequestObject.sort[sortSection?.variableName]=== 'desc' ? 'normal Order' : 'ascending order'}}</span>
                            <span>{{sortSection?.fieldName}}</span>
                            <mat-icon *ngIf="userDisclosureService.dashboardRequestObject?.sort[sortSection?.variableName] === 'asc'"
                                aria-hidden="true" class="arrow selected-arrow flex-shrink-0 ms-1" [@slideDown]>arrow_downward</mat-icon>
                            <mat-icon *ngIf="userDisclosureService.dashboardRequestObject?.sort[sortSection?.variableName] === 'desc'"
                                aria-hidden="true" class="arrow selected-arrow flex-shrink-0 ms-1" [@slideUp] [@scaleOut]>arrow_upward</mat-icon>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Search -->
        <div *ngIf="!['DISCLOSURE_HISTORY', 'CMP'].includes(currentSelected.tab)" class="col flex-grow-1 px-3 py-2 border-start">
            <div class="d-flex align-items-center filter-s-outer search-area position-relative">
                <span class="filter-search w-100">
                    <mat-icon aria-hidden="true" class="fs-25px searchButton">search</mat-icon>
                    <input class="form-control pe-5" type="text" id="coi-discl-search-text" [placeholder]="searchPlaceHolder[currentSelected.tab]"
                        [(ngModel)]="searchText" (ngModelChange)="getFilteredDisclosureListForSearchWord()" autocomplete="off">
                </span>
                <button *ngIf="searchText" tabindex="0" aria-label="Clear search text" class="d-flex align-items-center btn-none"
                    id="coi-discl-search-close-btn" (click)="resetDashboardAfterSearch()" (keyup.enter)="resetDashboardAfterSearch()">
                    <mat-icon class="closeButton" aria-hidden="true">close</mat-icon>
                </button>
            </div>
        </div>
    </div>
</div>
</div>

<!-- Dashboard Cards -->
<ng-container *ngIf="!isLoading">
    <div *ngIf="completeDisclosureList.length > 0;else noData" [@listAnimation]="completeDisclosureList.length" tabindex="-1" [attr.aria-label]="selectedTabLabel()">
        <ng-container *ngFor="let disclosure of completeDisclosureList ; let index = index; let isLast=last;">
            <!-- New card design starts(master card) -->
            <div *ngIf="!['TRAVEL_DISCLOSURES', 'DISCLOSURE_HISTORY', 'DECLARATION', 'CMP'].includes(currentSelected.tab)" class="card coi-card-regular">
                <div class="card-body px-3 py-2" id="coi-user-disclosure-dashboard-card-{{index}}">
                    <!-- For Coi disclosures card -->
                    <ng-container *ngIf="!disclosure?.travelDisclosureId && !disclosure?.opaDisclosureId && !disclosure?.disclosureId">
                        <div class="row">
                                <div class="col-12 d-inline-flex mb-1 coi-card-body-notch-container align-items-end">
                                    <span *ngIf="disclosure.fcoiTypeCode == DISCLOSURE_TYPE.PROJECT" [style.backgroundColor]="disclosure.projectBadgeColor"
                                        attr.aria-label="{{ COMMON_DISCL_LOCALIZE.PROJECT_BADGE_PREFIX }}{{disclosure?.projectType}} disclosure"
                                        class="coi-card-notch-ribbon shadow-sm">{{ COMMON_DISCL_LOCALIZE.PROJECT_BADGE_PREFIX }}{{ disclosure?.projectType }}</span>
                                    <span *ngIf="disclosure.fcoiTypeCode != DISCLOSURE_TYPE.PROJECT"
                                        attr.aria-label="{{ COMMON_DISCL_LOCALIZE.ANNUAL_BADGE_PREFIX }}{{disclosure?.fcoiType}} disclosure"
                                        class="coi-card-notch-ribbon shadow-sm bg-fcoi-clip">{{ COMMON_DISCL_LOCALIZE.ANNUAL_BADGE_PREFIX }}{{ disclosure?.fcoiType }}</span>
                                    <h4 *ngIf="!disclosure.travelDisclosureId && !disclosure.opaDisclosureId"
                                        class="mb-0 d-flex ms-1">
                                        <span class="d-inline-flex">
                                            <mat-icon class="coi-text-light me-1" aria-hidden="true">person</mat-icon>
                                            <span class="coi-text-light text-nowrap fs-6 link-primary cursor-pointer" tabindex="-1" (click)="openPersonDetailsModal(disclosure)"
                                                [attr.aria-label]="'Disclosure person ' + disclosure?.disclosurePersonFullName" id="coi-user-disclosure-coi-card-value-person-{{index}}">
                                                {{disclosure.disclosurePersonFullName}}</span>
                                        </span>
                                        <ng-container *ngIf="disclosure.fcoiTypeCode == DISCLOSURE_TYPE.PROJECT">
                                            <span class="coi-vertical-divider mx-1"></span>
                                            <mat-icon aria-hidden="true" class="coi-text-light flex-shrink-0">{{disclosure.projectIcon}}</mat-icon>
                                            <a tabindex="0" class="link-primary cursor-pointer fs-6 fw-600"
                                                (click)="commonService.openProjectHierarchySlider(disclosure?.coiProjectTypeCode, disclosure?.projectNumber)"
                                                (keyup.enter)="commonService.openProjectHierarchySlider(disclosure?.coiProjectTypeCode, disclosure?.projectNumber)"
                                                (keyup.space)="commonService.openProjectHierarchySlider(disclosure?.coiProjectTypeCode, disclosure?.projectNumber)"
                                                [title]="'Click here to view details of ' + disclosure?.projectHeader"
                                                [attr.aria-label]="'Click here to view details of ' + disclosure?.projectHeader">
                                                <span class="text-slice">{{disclosure?.projectHeader}}</span>
                                            </a>
                                        </ng-container>
                                    </h4>
                                </div>
                            <div class="col-lg-10 mb-3 mb-lg-0 mb-md-3 px-0">
                                <div class="row mx-0 mt-1">
                                    <div class="col-lg-4 col-md-6 mb-2">
                                        <!-- Coi card Department -->
                                        <div tabindex="-1" [attr.aria-label]="'Department is ' + disclosure?.unit?.unitDetail">
                                            <label class="d-block coi-text-dark"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></label>
                                            <span class="coi-text-light" id="coi-user-disclosure-coi-card-value-department-{{index}}">{{commonService.getPersonLeadUnitDetails(disclosure?.unit)}}</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6 mb-2">
                                        <!-- Coi card Certification Date -->
                                        <label class="d-block coi-text-dark"><ng-container i18n="@@COI_CERTIFICATION_DATE">Certification Date</ng-container></label>
                                        <span class="coi-text-light">
                                            <app-no-data-label [valueToShow]="disclosure?.certifiedAt">
                                                <span class="coi-text-light" id="coi-user-disclosure-coi-card-value-cert-date-{{index}}">{{disclosure?.certifiedAt | dateFormatterWithTimeZone}}</span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                    <div *ngIf="disclosure?.fcoiTypeCode?.toString() !== DISCLOSURE_TYPE.PROJECT || disclosure?.coiProjectTypeCode?.toString() === PROJECT_TYPE.AWARD" class="col-lg-4 col-md-6 mb-2">
                                        <!-- Coi card Expiration Date -->
                                        <div tabindex="-1">
                                            <label class="d-block coi-text-dark">Expiration Date</label>
                                            <span>
                                                <app-no-data-label [valueToShow]="disclosure?.expirationDate">
                                                    <span class="d-flex gap-2">
                                                        <span class="coi-text-light" id="coi-disclosure-expiration-date-{{index}}">{{ disclosure?.expirationDate | dateFormatterWithTimeZone }}</span>
                                                        <ng-container *ngIf="disclosure?.isExtended">
                                                            <app-common-extended-badge></app-common-extended-badge>
                                                        </ng-container>
                                                    </span>
                                                </app-no-data-label>
                                            </span>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="isShowFCOIAdminDetails">
                                        <div class="col-lg-4 col-md-6 mb-2">
                                            <!-- Coi card Administrator -->
                                            <div tabindex="-1" [attr.aria-label]="'Administrator is ' + (disclosure?.administrator)">
                                                <label class="d-block coi-text-dark">Administrator</label>
                                                <span class="coi-text-light">
                                                    <app-no-data-label [valueToShow]="disclosure?.administrator">
                                                        <span class="coi-text-light" id="coi-user-discl-fcoi-administrator-{{index}}">{{disclosure?.administrator}}</span>
                                                    </app-no-data-label>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6 mb-2">
                                            <!-- Coi card Admin Group -->
                                            <div tabindex="-1" [attr.aria-label]="'Admin Group is ' + (disclosure?.adminGroupName)">
                                                <label class="d-block coi-text-dark">Admin Group</label>
                                                <span class="coi-text-light">
                                                    <app-no-data-label [valueToShow]="disclosure?.adminGroupName">
                                                        <span class="coi-text-light" id="coi-user-discl-fcoi-admin-group-{{index}}">{{disclosure?.adminGroupName}}</span>
                                                    </app-no-data-label>
                                                </span>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                            <div class="col-lg-2 d-flex d-lg-block pb-3">
                                <div class="d-flex d-lg-block col-lg-auto col-md-12 coi-box-purple p-2">
                                    <!-- Coi card Disclosure Status -->
                                    <div *ngIf="!disclosure?.opaDisclosureId" tabindex="-1"
                                        class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Disclosure Status is ' + (disclosure?.conflictStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@COMMON_DISCLOSURE_STATUS">Disclosure Status</ng-container></label>
                                        <span class="break-point-1200">
                                            <app-no-data-label *ngIf="!disclosure?.travelDisclosureId" [valueToShow]="disclosure?.conflictStatus">
                                                <span
                                                    class="{{disclosureConflictStatusBadge[disclosure?.conflictStatusCode] || 'yellow-badge'}}"
                                                    id="status">
                                                </span>
                                                <span class="coi-text-dark" id="coi-user-disclosure-coi-card-value-disc-status-{{index}}">
                                                    {{disclosure?.conflictStatus}}
                                                </span>
                                            </app-no-data-label>
                                            <app-no-data-label *ngIf="disclosure?.travelDisclosureId" [valueToShow]="disclosure?.travelDisclosureStatusDescription">
                                                <span
                                                    class="{{disclosureConflictStatusBadge[disclosure?.travelDisclosureStatusCode] || 'yellow-badge'}}"
                                                    id="status">
                                                </span>
                                                <span class="coi-text-dark" id="coi-user-disclosure-coi-card-value-traveldisc-status-{{index}}">
                                                    {{disclosure?.travelDisclosureStatusDescription}}
                                                </span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                    <!-- Coi card Review Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Review Status is ' + (disclosure?.reviewStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@COI_REVIEW_STATUS">Review Status</ng-container></label>
                                        <span>
                                            <app-no-data-label [valueToShow]="disclosure?.reviewStatus">
                                                <span class="{{coiReviewStatusBadge[disclosure?.reviewStatusCode] || 'red-badge'}}"
                                                    id="review-status"></span>
                                                <span class="coi-text-dark" id="coi-user-disclosure-coi-card-value-review-status-{{index}}">
                                                    {{disclosure?.reviewStatus}}
                                                </span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                    <!-- Coi card Disposition Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Disposition Status is ' + (disclosure?.dispositionStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></label>
                                        <span class="break-point-1200">
                                            <span class="{{coiDispositionStatusBadge[disclosure?.dispositionStatusCode] || 'yellow-badge' }}"></span>
                                            <span class="coi-text-dark" id="coi-user-disclosure-coi-card-value-disp-status-{{index}}">
                                                {{disclosure?.dispositionStatus}}
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <!-- For OPA disclosures card-->
                    <ng-container *ngIf="disclosure?.opaDisclosureId">
                        <div class="row">
                                <div class="col-12 d-inline-flex mb-1 coi-card-body-notch-container align-items-end">
                                    <!-- OPA Card badge -->
                                    <span class="d-flex">
                                        <span class="coi-card-notch-ribbon shadow-sm bg-opa-clip">OPA - {{ disclosure?.versionNumber === opaInitialVersion ? 'Initial' : 'Revision' }}</span>
                                    </span>
                                    <!-- OPA Card Reporting Cycle -->
                                    <h4 *ngIf="disclosure.opaDisclosureId" class="d-inline-flex ms-1 mb-0">
                                        <span class="d-inline-flex">
                                            <!-- <i class="fa fa-user me-1" aria-hidden="true"></i> -->
                                            <mat-icon aria-hidden="true" class="coi-text-light me-1">person</mat-icon>
                                            <span class="coi-text-light fs-6 text-nowrap link-primary cursor-pointer" tabindex="-1"
                                                (click)="openPersonDetailsModal(disclosure)"
                                                [attr.aria-label]="'Disclosure person is ' + disclosure.personName">{{disclosure?.personName}}</span>
                                        </span>
                                        <!-- <ng-container class="ms-1">
                                            <div class="d-inline-flex" tabindex="-1"
                                                [attr.aria-label]="'Reporting Cycle is ' + (disclosure?.periodStartDate | dateFormatter) + 'to' + (disclosure?.periodEndDate |dateFormatter)">
                                                <span class="coi-vertical-divider mx-1"></span>
                                                <span class="fs-6 text-nowrap">Reporting Cycle:</span>
                                                <span class="coi-text-darker fs-6 ms-1">
                                                    <span id="coi-user-disclosure-opa-card-value-reporting-cycle-{{index}}">{{disclosure?.periodStartDate | dateFormatter}} - {{disclosure?.periodEndDate | dateFormatter}}</span>
                                                </span>
                                            </div>
                                        </ng-container> -->
                                    </h4>
                                </div>
                            <div class="col-lg-10 mb-3 mb-lg-0 mb-md-3 px-0">
                                <div class="row mx-0 mt-1 row-gap-2">
                                    <div class="col-lg-4 col-md-6">
                                        <!-- OPA Card Department -->
                                        <div [attr.aria-label]="'Department Name is ' + (disclosure?.unitDisplayName || 'empty')">
                                            <span class="d-block coi-text-dark"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></span>
                                            <span class="coi-text-light"><app-no-data-label [valueToShow]="disclosure?.unitDisplayName"></app-no-data-label></span>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <!-- OPA Card Certification Date -->
                                        <label for="certify-date" class="d-block coi-text-dark"><ng-container i18n="@@OPA_CERTIFICATION_DATE">Certification Date</ng-container></label>
                                        <span class="coi-text-light">
                                            <app-no-data-label id="certify-date" [valueToShow]="disclosure?.submissionTimestamp">
                                                <span class="coi-text-light" id="coi-user-disclosure-opa-card-value-cert-date-{{index}}">{{disclosure?.submissionTimestamp | dateFormatterWithTimeZone}}</span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                    <div class="col-lg-4 col-md-6">
                                        <!-- OPA Card Expiration Date -->
                                        <div [attr.aria-label]="'Expiration Date is ' + (disclosure?.expirationDate | dateFormatterWithTimeZone)">
                                            <label for="expire-date" class="d-block coi-text-dark">Expiration Date</label>
                                            <span class="coi-text-light">
                                                <app-no-data-label id="expire-date" [valueToShow]="disclosure?.expirationDate">
                                                    <span class="coi-text-light" id="coi-user-disclosure-opa-card-value-exp-date-{{index}}">{{disclosure?.expirationDate | dateFormatterWithTimeZone}}</span>
                                                </app-no-data-label>
                                            </span>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="isShowAdminDetails">
                                        <div class="col-lg-4 col-md-6">
                                            <!-- OPA Card Administrator -->
                                            <div [attr.aria-label]="'Administrator is ' + (disclosure?.adminPersonName)">
                                                <span class="d-block coi-text-dark">Administrator</span>
                                                <span class="coi-text-light">
                                                    <app-no-data-label [valueToShow]="disclosure?.adminPersonName">
                                                        <span id="id" class="coi-text-light" id="coi-user-disclosure-opa-card-value-adminstrator-{{index}}">
                                                            {{disclosure?.adminPersonName}}</span>
                                                    </app-no-data-label>
                                                </span>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-6">
                                            <!-- OPA Card Admin Group -->
                                            <div class="mb-3 mb-xl-0" [attr.aria-label]="'Admin Group is ' + (disclosure?.adminGroupName)">
                                                <span class="d-block coi-text-dark">Admin Group</span>
                                                <span class="coi-text-light">
                                                    <app-no-data-label [valueToShow]="disclosure?.adminGroupName">
                                                        <span id="id" class="coi-text-light"
                                                            id="coi-user-disclosure-opa-card-value-admin-group-{{index}}">{{disclosure?.adminGroupName}}</span>
                                                    </app-no-data-label>
                                                </span>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                            <div class="col-lg-2 d-flex d-lg-block pb-3">
                                <div class="d-flex d-lg-block col-lg-auto col-md-12 coi-box-purple p-2">
                                    <!-- OPA Card Disposition Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Disposition Status is ' + (disclosure?.dispositionStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></label>
                                        <span>
                                            <span
                                                class="{{opaDispositionStatusBadge[disclosure?.dispositionStatusCode] || 'yellow-badge'}}"></span>
                                            <span class="coi-text-dark" id="coi-user-disclosure-opa-card-value-disp-status-{{index}}">
                                                {{disclosure?.dispositionStatus}}
                                            </span>
                                        </span>
                                    </div>
                                    <!-- OPA Card Review Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Review Status is ' + (disclosure?.reviewStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@OPA_REVIEW_STATUS">Review Status</ng-container></label>
                                        <span>
                                            <app-no-data-label id="review-status" [valueToShow]="disclosure?.reviewStatus">
                                                <span
                                                    [class.text-dark]="commonService.getReviewStatusBadge(disclosure?.reviewStatusCode) === 'warning'"
                                                    class="{{opaReviewStatusBadge[disclosure?.reviewStatusCode] || 'red-badge'}}"></span>
                                                <span class="coi-text-dark" id="coi-user-disclosure-opa-card-value-review-status-{{index}}">
                                                    {{disclosure?.reviewStatus}}
                                                </span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>

                    <!-- For Consulting disclosures card-->
                    <ng-container *ngIf="disclosure?.disclosureId">
                        <div class="row">
                                <div class="col-12 d-inline-flex mb-1 coi-card-body-notch-container align-items-end">
                                    <!-- Consulting Card badge -->
                                    <span class="d-flex">
                                        <span attr.aria-label="{{ COMMON_DISCL_LOCALIZE.CONSULTING_BADGE_PREFIX }}Consulting Disclosure"
                                            class="coi-card-notch-ribbon shadow-sm bg-consulting-clip">{{ COMMON_DISCL_LOCALIZE.CONSULTING_BADGE_PREFIX }}Consulting</span>
                                    </span>
                                    <!-- Consulting Card Reporting Cycle -->
                                    <h4 *ngIf="disclosure.disclosureId" class="d-flex ms-1 mb-0">
                                        <span class="d-inline-flex">
                                            <!-- <i class="fa fa-user me-1" aria-hidden="true"></i> -->
                                            <mat-icon aria-hidden="true" class="coi-text-light me-1">person</mat-icon>
                                            <span class="coi-text-light fs-6 text-nowrap link-primary cursor-pointer" tabindex="-1"
                                                (click)="openPersonDetailsModal(disclosure)"
                                                [attr.aria-label]="'Disclosure person is ' + disclosure?.fullName">{{disclosure.fullName}}</span>
                                        </span>
                                        <ng-container *ngIf="disclosure.entityName">
                                            <span class="coi-vertical-divider mx-1"></span>
                                            <div class="coi-text-darker">
                                                <span class="d-inline-flex link-primary cursor-pointer align-items-center" tabindex="0"
                                                    (click)="viewEntityDetails(disclosure)" (keyup.enter)="viewEntityDetails(disclosure)" (keyup.space)="viewEntityDetails(disclosure)">
                                                    <mat-icon aria-hidden="true" class="coi-text-light me-1">apartment</mat-icon>
                                                    <span class="fs-6 text-slice" [title]="disclosure.entityName">{{disclosure.entityName}}</span>
                                                </span>
                                            </div>
                                        </ng-container>
                                    </h4>
                                </div>
                            <div class="col-lg-10 mb-3 mb-lg-0 mb-md-3 px-0">
                                <div class="row mx-0 mt-1">
                                    <div class="col-lg-3 col-md-6 mb-2">
                                        <!-- Consulting Card Department -->
                                        <div tabindex="-1"
                                            [attr.aria-label]="'Department Name is ' + (disclosure?.unitDetails?.unitNumber + ' - ' + disclosure?.unitDetails?.unitName)">
                                            <label class="d-block coi-text-dark"><ng-container i18n="@@COMMON_DEPARTMENT">Department</ng-container></label>
                                            <span class="coi-text-light"
                                                id="coi-user-disclosure-opa-card-value-department-{{index}}">{{commonService.getPersonLeadUnitDetails(disclosure?.unitDetails)}}</span>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-6 mb-2">
                                        <!-- Consulting Card Certification Date -->
                                        <label for="certify-date" class="d-block coi-text-dark"><ng-container i18n="@@CONSULTING_CERTIFICATION_DATE">Certification Date</ng-container></label>
                                        <span class="coi-text-light">
                                            <app-no-data-label id="certify-date" [valueToShow]="disclosure?.certifiedAt">
                                                <span class="coi-text-light"
                                                    id="coi-user-disclosure-opa-card-value-cert-date-{{index}}">{{disclosure?.certifiedAt
                                                    | dateFormatterWithTimeZone}}</span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                    <div class="col-lg-3 col-md-6 mb-2">
                                        <!-- Consulting Card Administrator -->
                                        <div tabindex="-1" [attr.aria-label]="'Administrator is ' + (disclosure?.administrator)">
                                            <label for="id" class="d-block coi-text-dark">Administrator</label>
                                            <span class="coi-text-light">
                                                <app-no-data-label [valueToShow]="disclosure?.administrator">
                                                    <span id="id" class="coi-text-light"
                                                        id="coi-user-disclosure-opa-card-value-adminstrator-{{index}}">
                                                        {{disclosure?.administrator}}</span>
                                                </app-no-data-label>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-6 mb-2">
                                        <!-- Consulting Card Admin Group -->
                                        <div tabindex="-1" class="mb-3 mb-xl-0"
                                            [attr.aria-label]="'Admin Group is ' + (disclosure?.adminGroupName)">
                                            <label for="id" class="d-block coi-text-dark">Admin Group</label>
                                            <span class="coi-text-light">
                                                <app-no-data-label [valueToShow]="disclosure?.adminGroupName">
                                                    <span id="id" class="coi-text-light"
                                                        id="coi-user-disclosure-opa-card-value-admin-group-{{index}}">{{disclosure?.adminGroupName}}</span>
                                                </app-no-data-label>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2 d-flex d-lg-block pb-3">
                                <div class="d-flex d-lg-block col-lg-auto col-md-12 coi-box-purple p-2">
                                    <!-- Consulting Card Disposition Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Disposition Status is ' + (disclosure?.dispositionStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@COMMON_DISPOSITION_STATUS">Disposition Status</ng-container></label>
                                        <span>
                                            <span class="{{consultingDispositionStatusBadge[disclosure?.dispositionStatusCode] || 'red-badge'}}"></span>
                                            <span class="coi-text-dark" id="coi-user-disclosure-opa-card-value-disp-status-{{index}}">
                                                {{disclosure?.dispositionStatusDescription}}
                                            </span>
                                        </span>
                                    </div>
                                    <!-- Consulting Card Review Status -->
                                    <div tabindex="-1" class="flex-grow-1 lh-sm mb-2"
                                        [attr.aria-label]="'Review Status is ' + (disclosure?.reviewStatus)">
                                        <label class="d-block coi-text-lighter"><ng-container i18n="@@CONSULTING_REVIEW_STATUS">Review Status</ng-container></label>
                                        <span>
                                            <app-no-data-label id="review-status" [valueToShow]="disclosure?.reviewStatusCode">
                                                <span
                                                    class="{{consultingReviewStatusBadge[disclosure?.reviewStatusCode] || 'red-badge'}}"></span>
                                                <span class="coi-text-dark" id="coi-user-disclosure-opa-card-value-review-status-{{index}}">
                                                    {{disclosure?.reviewStatusDescription}}
                                                </span>
                                            </app-no-data-label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ng-container>
                </div>

            <!-- Footer section -->
                <div class="card-footer">
                    <div class="row">
                        <ng-container *ngIf="!disclosure?.travelDisclosureId && !disclosure?.disclosureId">
                            <div class="col-lg-8">
                                <div class="row align-items-center gap-3">
                                    <div class="col" tabindex="{{disclosure?.opaDisclosureId ? -1 : 0}}">
                                        <div class="d-flex align-items-center fw-semibold">
                                            <span class="d-flex align-items-center justify-content-center bg-light fs-18 fw-700 me-2 rounded-3 text-primary"
                                                [title]="disclosure?.noOfSfi > 0 ? 'Click here to view Engagements list' : '' " role="link" [ngClass]="disclosure?.noOfSfi > 0 ?'badge cursor-pointer':'zero-count-padding'"
                                                [attr.aria-label]="disclosure?.noOfSfi > 0 ?'Click here to view Engagements list':''"
                                                (click)="openCountModal(disclosure, disclosure?.noOfSfi, disclosure?.opaDisclosureId ? opaModuleCode : coiModuleCode)"
                                                (keydown.enter)="openCountModal(disclosure, disclosure?.noOfSfi, disclosure?.opaDisclosureId ? opaModuleCode : coiModuleCode)"
                                                (keydown.space)="openCountModal(disclosure, disclosure?.noOfSfi, disclosure?.opaDisclosureId ? opaModuleCode : coiModuleCode)"
                                                id="coi-user-disclosure-noof-Engagements">{{disclosure?.noOfSfi || 0}}</span>
                                            <span class="fw-500" [ngClass]="disclosure?.noOfSfi > 0 ? 'link-primary': 'coi-text-light' "
                                                [title]="disclosure?.noOfSfi > 0 ? 'Click here to view Engagements list' : '' " role="link"
                                                (keydown.enter)="openCountModal(disclosure, disclosure?.noOfSfi, disclosure?.opaDisclosureId ? opaModuleCode : coiModuleCode)"
                                                (click)="openCountModal(disclosure, disclosure?.noOfSfi, disclosure?.opaDisclosureId ? opaModuleCode : coiModuleCode);">Engagements</span>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="disclosure?.fcoiTypeCode != DISCLOSURE_TYPE.PROJECT">
                                        <ng-container *ngFor="let projectCount of disclosure?.projectCount">
                                            <div *ngIf="projectCount" class="col">
                                                <div class="d-flex align-items-center fw-semibold">
                                                    <span class="bg-light fs-18 fw-700 me-2 rounded-3 text-primary"
                                                        tabindex="{{projectCount?.projectCount > 0 ? 0 : -1}}" role="link"
                                                        [attr.aria-label]="projectCount?.projectType + ' count is ' + projectCount?.projectCount + (projectCount?.projectCount > 0 ? '. Click here to view ' + projectCount?.projectType + ' list' : '')"
                                                        [title]="projectCount?.projectCount > 0 ? 'Click here to view ' + projectCount?.projectType + ' list' : ''"
                                                        (click)="openCountModal(disclosure, projectCount?.projectCount, projectCount?.moduleCode)"
                                                        (keyup.enter)="openCountModal(disclosure, projectCount?.projectCount, projectCount?.moduleCode)"
                                                        [ngClass]="projectCount?.projectCount ? 'badge cursor-pointer' : 'zero-count-padding'">{{projectCount?.projectCount}}</span>
                                                    <span class="fw-500" [ngClass]="projectCount?.projectCount > 0 ? 'cursor-pointer' : '' "
                                                        [class.link-primary]="projectCount?.projectCount > 0"
                                                        [title]="projectCount?.projectCount > 0 ? 'Click here to view ' + projectCount?.projectType + ' list' : ''"
                                                        (click)="openCountModal(disclosure, projectCount?.projectCount, projectCount?.moduleCode)"
                                                        (keyup.enter)="openCountModal(disclosure, projectCount?.projectCount, projectCount?.moduleCode)">{{projectCount?.projectType}}</span>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </ng-container>
                                    <div *ngIf="!disclosure?.opaDisclosureId" class="col">
                                        <div class="d-flex align-items-center fw-semibold">
                                            <span tabindex="{{disclosure?.opaDisclosureId ? -1 : 0}}" class="d-flex align-items-center justify-content-center bg-light fs-18 fw-700 me-2 rounded-3 text-primary"
                                                [title]="disclosure?.disclosureAttachmentCount > 0 ? 'Click here to view Attachment list' : ''" role="link"
                                                [ngClass]="disclosure?.disclosureAttachmentCount > 0 ? 'badge cursor-pointer' : 'zero-count-padding'"
                                                [attr.aria-label]="disclosure?.disclosureAttachmentCount > 0 ? 'Click here to view Attachment list' : ''"
                                                (click)="openCountModal(disclosure, disclosure?.disclosureAttachmentCount, coiModuleCode, 'DISCLOSURE_ATTACHMENT')"
                                                (keyup.enter)="openCountModal(disclosure, disclosure?.disclosureAttachmentCount, coiModuleCode, 'DISCLOSURE_ATTACHMENT')"
                                                id="coi-user-dash-disc-attachment-{{index}}">{{ disclosure?.disclosureAttachmentCount }}</span>
                                            <span class="fw-500" [ngClass]="disclosure?.disclosureAttachmentCount > 0 ? 'link-primary' : 'coi-text-light'"
                                                [title]="disclosure?.disclosureAttachmentCount > 0 ? 'Click here to view Attachment list' : ''" role="link"
                                                (keyup.enter)="openCountModal(disclosure, disclosure?.disclosureAttachmentCount, coiModuleCode, 'DISCLOSURE_ATTACHMENT')"
                                                (click)="openCountModal(disclosure, disclosure?.disclosureAttachmentCount, coiModuleCode, 'DISCLOSURE_ATTACHMENT')">Attachments</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto">
                                <span class="coi-text-lighter d-inline-flex d-lg-block fs-13 fw-medium">Last Updated By</span>
                                <span class="coi-text-dark fs-13 fw-normal text-nowrap"
                                    [attr.aria-label]="disclosure?.updateUserFullName + ' on ' + (disclosure?.updateTimeStamp | dateFormatterWithTimeZone: 'long')">
                                    {{disclosure?.updateUserFullName}} <span class="coi-text-lighter fs-13 fw-medium"> On </span> {{disclosure?.updateTimeStamp | dateFormatterWithTimeZone: 'long'}}</span>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="disclosure?.disclosureId">
                            <div class="col-lg-10">
                                <div class="col-md-12 col-lg-4" tabindex="-1">
                                    <span class="coi-text-lighter d-inline-flex d-lg-block fs-13 fw-medium">Last Updated By</span>
                                    <span class="coi-text-dark fs-13 fw-normal text-nowrap"
                                        [attr.aria-label]="disclosure?.updateUserFullName + ' on ' + (disclosure?.updateTimeStamp | dateFormatterWithTimeZone: 'long')">
                                        {{disclosure?.updateUserFullName}} <span class="coi-text-lighter fs-13 fw-medium"> On </span> {{disclosure?.updateTimeStamp | dateFormatterWithTimeZone: 'long'}}</span>
                                </div>
                            </div>
                        </ng-container>
                        <div class="d-flex justify-content-end align-items-center col">
                            <div class="d-flex justify-content-end align-items-center d-inline-block px-0 h-100 gap-2">
                                <!-- comments -->
                                <button *ngIf="isShowCommentButton" id="coi-user-disc-comment-button-{{index}}" (click)="openReviewComment(disclosure)"
                                    title="Click here to open review comments" aria-label="Click here to open review comments"
                                    class="d-inline-flex align-items-center justify-content-center btn btn-outline-grey col fs-14 text-nowrap">
                                    <mat-icon aria-hidden="true">rate_review</mat-icon>
                                    <span class="ms-2">All Comments</span>
                                    <span *ngIf="disclosure?.commentCount > 0">({{ disclosure?.commentCount > 99 ? '99+' : disclosure?.commentCount }})</span>
                                </button>
                                <button (click)="redirectToDisclosure(disclosure)" id="coi-user-disclosure-dashboard-view-btn-{{index}}"
                                    [title]="disclosure?.opaDisclosureId ? 'Click here to view OPA Disclosure'
                                        : disclosure?.disclosureId ? 'Click here to view ' + COMMON_DISCL_LOCALIZE.CONSULTING_BADGE_PREFIX + 'Consulting Disclosure'
                                        : disclosure?.fcoiTypeCode == DISCLOSURE_TYPE.PROJECT ? 'Click here to view ' + COMMON_DISCL_LOCALIZE.PROJECT_BADGE_PREFIX + disclosure?.projectType + ' Disclosure'
                                        : 'Click here to view ' + (COMMON_DISCL_LOCALIZE.ANNUAL_BADGE_PREFIX + disclosure?.fcoiType) + ' Disclosure'"
                                    [attr.aria-label]="disclosure?.opaDisclosureId ? 'Click here to view OPA disclosure'
                                        : disclosure?.disclosureId ? 'Click here to view consulting disclosure'
                                        : disclosure?.fcoiTypeCode == DISCLOSURE_TYPE.PROJECT ? 'Click here to view ' + COMMON_DISCL_LOCALIZE.PROJECT_BADGE_PREFIX + disclosure?.projectType + ' Disclosure'
                                        : 'Click here to view ' + (COMMON_DISCL_LOCALIZE.ANNUAL_BADGE_PREFIX + disclosure?.fcoiType) + ' Disclosure'"
                                    class="d-flex align-items-center btn btn-outline-secondary fs-14">
                                    <mat-icon aria-hidden="true" class="me-1">visibility</mat-icon>
                                    <span>View</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <ng-container *ngIf="currentSelected.tab === 'TRAVEL_DISCLOSURES'">
                <app-coi-disclosure-dashboard-card [disclosureDetails]="disclosure" [isShowCommentButton]="true" (cardActions)="cardActions($event)"></app-coi-disclosure-dashboard-card>
            </ng-container>
            <!-- New card design ends-->

            <!-- Declaration card -->
            <ng-container *ngIf="currentSelected.tab === 'DECLARATION'">
                <app-declaration-card *ngIf="disclosure?.declarationId" [declarationDetails]="disclosure"></app-declaration-card>
            </ng-container>
            <!-- Declaration card ends -->
            <!-- CMP Card Starts -->
            <ng-container *ngIf="currentSelected.tab === 'CMP'">
                <app-management-plan-card *ngIf="disclosure?.cmpId" [cmpDetails]="disclosure"></app-management-plan-card>
            </ng-container>
            <!-- CMP Card Ends -->
        </ng-container>

        <!-- new history design   -->
        <ul class="timeline" *ngIf="currentSelected.tab=='DISCLOSURE_HISTORY'">
            <li class="pb-5" *ngFor="let disclosure of completeDisclosureList ; let index = index; let isLast=last;">
                <app-shared-entire-disclosure-history [disclosureItem]="disclosure" [isLastElement]="isLast" [isOpenSlider]="true"></app-shared-entire-disclosure-history>
            </li>
        </ul>
        <!-- new history design ends   -->
    </div>

    <!-- no info card -->
     <ng-template #noData>
        <ng-container *ngIf="!isShowCreate">
            <app-no-information>
                <span>{{ noDataMessage }}</span>
            </app-no-information>
        </ng-container>
     </ng-template>

    <app-no-information
        *ngIf="!paginationArray.length && isShowCreate && currentSelected.tab!='DISCLOSURE_HISTORY'"><span>{{ noDataMessage }}</span></app-no-information>
    <!-- Pagination -->
    <div [hidden]="isLoading" *ngIf="(paginationArray.length > 0 && currentSelected.tab != 'DISCLOSURE_HISTORY')"
        class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mt-3">
        <nav aria-label="pagination section" class="pagination justify-content-end">
            <app-pagination (pageChangeEvent)="actionsOnPageChange($event)"
                [totalCount]="['TRAVEL_DISCLOSURES', 'CONSULTING_DISCLOSURES'].includes(this.currentSelected.tab) ? pageCountFromAPI : paginationArray.length"
                [defaultCurrentPage]="dashboardRequestObject.currentPage"></app-pagination>
        </nav>
    </div>
</ng-container>

<!-- count modal -->
<ng-container *ngIf="countModalData?.isOpenCountModal">
    <app-coi-count-modal [(coiCountModal)]="countModalData" (viewSlider)="viewSlider($event)"></app-coi-count-modal>
</ng-container>

<!-- entity slider -->
<ng-container *ngIf="showSlider">
	<app-coi-slider (closeSlider)="validateSliderClose()" [elementId]="sliderElementId">
		<ng-container content>
			<app-entity-details [entityId]="entityId"></app-entity-details>
		</ng-container>
	</app-coi-slider>
</ng-container>
