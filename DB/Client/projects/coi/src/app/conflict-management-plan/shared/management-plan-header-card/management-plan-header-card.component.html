<article class="card coi-box-red">
    <div class="card-body d-flex flex-column gap-2">
        <div class="row align-items-center row-gap-2">
            <!-- person | Entity -->
            <div class="d-flex align-items-center gap-2">
                <!-- person -->
                <span *ngIf="managementPlan?.plan?.person?.fullName"
                    class="d-flex align-items-center gap-1" [title]="managementPlan.plan.person.fullName">
                    <mat-icon class="fw-bold coi-text-lighter flex-shrink-0" aria-hidden="true">person</mat-icon>
                    <span class="coi-text-light text-slice fw-500">{{ managementPlan.plan.person.fullName }}</span>
                </span>
                <!-- Rolodex -->
                <span *ngIf="managementPlan?.plan?.rolodex?.fullName"
                    class="d-flex align-items-center gap-1" [title]="managementPlan.plan.rolodex.fullName">
                    <mat-icon class="fw-bold coi-text-lighter flex-shrink-0" aria-hidden="true">person</mat-icon>
                    <span class="coi-text-light text-slice fw-500">{{ managementPlan.plan.rolodex.fullName }}</span>
                </span>
                <!-- Entity -->
                <ng-container *ngFor="let cmpEntity of managementPlan?.cmpEntityList; let isFirstEntity = first">
                    <span *ngIf="!isFirstEntity || (isFirstEntity && managementPlan.plan?.person?.fullName)"
                        class="coi-text-light fs-18">|</span>
                    <span class="d-flex align-items-center gap-1" [title]="cmpEntity?.entity?.entityDetails?.entityName">
                        <mat-icon class="fw-bold coi-text-lighter flex-shrink-0" aria-hidden="true">domain</mat-icon>
                        <span class="coi-text-light text-slice fw-500">{{ cmpEntity?.entity?.entityDetails?.entityName }}</span>
                    </span>
                </ng-container>
            </div>
            <!-- Project Details -->
            <ng-container *ngFor="let cmpProject of managementPlan?.cmpProjectList;">
                <div class="col-12 d-flex align-items-center gap-2"
                    title="#{{ cmpProject?.projectDetails?.projectNumber }} - {{ cmpProject?.projectDetails?.projectTitle }}">
                    <mat-icon aria-hidden="true" class="coi-text-light flex-shrink-0">{{ projectTypes[cmpProject?.moduleCode]?.projectIcon }}</mat-icon>
                    <span class="coi-text-light text-slice fw-500">#{{ cmpProject?.projectDetails?.projectNumber }} - {{ cmpProject?.projectDetails?.projectTitle }}</span>
                </div>
            </ng-container>
            <!-- home unit -->
            <div *ngIf="managementPlan?.plan?.person?.unit?.displayName"
                class="d-flex align-items-center gap-1 coi-text-light col-6"
                [title]="managementPlan.plan.person.unit.displayName">
                <mat-icon aria-hidden="true"
                    class="coi-text-lighter flex-shrink-0 cmp-home-icon">home</mat-icon>
                <span class="text-slice">{{ managementPlan.plan.person.unit.displayName }}</span>
            </div>
            <!-- Type -->
            <div class="d-inline-flex gap-1 col-6">
                <span class="coi-text-light">{{ cmpLocalize?.TERM_CMP }} Type:</span>
                <span class="coi-text-light text-slice fw-500" [title]="managementPlan?.plan?.cmpType?.description">
                    <app-no-data-label [valueToShow]="managementPlan?.plan?.cmpType?.description"></app-no-data-label>
                </span>
            </div>
        </div>
    </div>
</article>
